!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(6)},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=c[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(s(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(s(r.parts[i],e));c[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],p={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(p):e.push(n[i]={id:i,parts:[p]})}return e}function i(){var t=document.createElement("style"),e=d();return t.type="text/css",e.appendChild(t),t}function a(){var t=document.createElement("link"),e=d();return t.rel="stylesheet",e.appendChild(t),t}function s(t,e){var n,r,o;if(e.singleton){var s=b++;n=h||(h=i()),r=u.bind(null,n,s,!1),o=u.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(),r=l.bind(null,n),o=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(),r=p.bind(null,n),o=function(){n.parentNode.removeChild(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function u(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e){var n=e.css,r=e.media;if(e.sourceMap,r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function l(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var c={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=f(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,b=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m());var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=c[s.id];u.refs--,i.push(u)}if(t){var p=o(t);r(p,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete c[u.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,"#app{-webkit-transform:tranzlateZ(0);-ms-transform:tranzlateZ(0);transform:tranzlateZ(0)}.bounce-down-1{-webkit-animation:bounce-down-1 1s linear both;animation:bounce-down-1 1s linear both}.bounce-down-2{-webkit-animation:bounce-down-2 1s linear both;animation:bounce-down-2 1s linear both}@-webkit-keyframes bounce-down-1{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}@keyframes bounce-down-1{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}@-webkit-keyframes bounce-down-2{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}@keyframes bounce-down-2{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}.bounce-up-1{-webkit-animation:bounce-up-1 1s linear both;animation:bounce-up-1 1s linear both}.bounce-up-2{-webkit-animation:bounce-up-2 1s linear both;animation:bounce-up-2 1s linear both}@-webkit-keyframes bounce-up-1{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}@keyframes bounce-up-1{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}@-webkit-keyframes bounce-up-2{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}@keyframes bounce-up-2{0%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,60,0,1)}4%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,34.082,0,1)}7.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,6.677,0,1)}11.91%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.365,0,1)}15.82%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-16.549,0,1)}20.42%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-11.771,0,1)}24.92%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-3.562,0,1)}29.53%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,2.418,0,1)}34.03%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,4.156,0,1)}43.14%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.879,0,1)}52.15%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-1.044,0,1)}70.37%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,.262,0,1)}88.59%{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-.066,0,1)}to{-webkit-transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform:matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}}#heartbox{display:inline-block;position:relative;opacity:.65}.heart{position:absolute;opacity:0}.fly-1{-webkit-animation:fly-1 2.5s linear both;animation:fly-1 2.5s linear both}.fly-2{-webkit-animation:fly-2 1.8s linear both;animation:fly-2 1.8s linear both}.fly-3{-webkit-animation:fly-3 3.3s linear both;animation:fly-3 3.3s linear both}@-webkit-keyframes fly-1{0%{opacity:0;-webkit-transform:translate(8px,0);transform:translate(8px,0)}40%{opacity:.3;-webkit-transform:translate(6px,-20px);transform:translate(6px,-20px)}50%{opacity:.1;-webkit-transform:translate(0,-30px);transform:translate(0,-30px)}60%{opacity:.2;-webkit-transform:translate(2px,-40px);transform:translate(2px,-40px)}80%{-webkit-transform:translate(7px,-50px);transform:translate(7px,-50px)}to{-webkit-transform:translate(12px,-90px);transform:translate(12px,-90px)}}@keyframes fly-1{0%,to{opacity:0}0%{-webkit-transform:translate(8px,0);transform:translate(8px,0)}40%{opacity:.3;-webkit-transform:translate(6px,-20px);transform:translate(6px,-20px)}50%{opacity:.1;-webkit-transform:translate(0,-30px);transform:translate(0,-30px)}60%{opacity:.2;-webkit-transform:translate(2px,-40px);transform:translate(2px,-40px)}80%{-webkit-transform:translate(7px,-50px);transform:translate(7px,-50px)}to{opacity:0;-webkit-transform:translate(12px,-90px);transform:translate(12px,-90px)}}@-webkit-keyframes fly-2{0%{opacity:0;-webkit-transform:translate(0,0);transform:translate(0,0)}40%{opacity:.2;-webkit-transform:translate(3px,-20px);transform:translate(3px,-20px)}50%{opacity:.3;-webkit-transform:translate(8px,-30px);transform:translate(8px,-30px)}60%{opacity:.2;-webkit-transform:translate(6px,-40px);transform:translate(6px,-40px)}80%{-webkit-transform:translate(5px,-50px);transform:translate(5px,-50px)}to{-webkit-transform:translate(4%,-80px);transform:translate(4%,-80px)}}@keyframes fly-2{0%,to{opacity:0}0%{-webkit-transform:translate(0,0);transform:translate(0,0)}40%{opacity:.2;-webkit-transform:translate(3px,-20px);transform:translate(3px,-20px)}50%{opacity:.3;-webkit-transform:translate(8px,-30px);transform:translate(8px,-30px)}60%{opacity:.2;-webkit-transform:translate(6px,-40px);transform:translate(6px,-40px)}80%{-webkit-transform:translate(5px,-50px);transform:translate(5px,-50px)}to{opacity:0;-webkit-transform:translate(4%,-80px);transform:translate(4%,-80px)}}@-webkit-keyframes fly-3{0%{opacity:0;-webkit-transform:translate(3px,0);transform:translate(3px,0)}40%{opacity:.2;-webkit-transform:translate(8px,-30px);transform:translate(8px,-30px)}50%{opacity:.35;-webkit-transform:translate(11px,-40px);transform:translate(11px,-40px)}60%{opacity:.2;-webkit-transform:translate(9px,-50px);transform:translate(9px,-50px)}80%{-webkit-transform:translate(7px,-60px);transform:translate(7px,-60px)}to{-webkit-transform:translate(5px,-80px);transform:translate(5px,-80px)}}@keyframes fly-3{0%,to{opacity:0}0%{-webkit-transform:translate(3px,0);transform:translate(3px,0)}40%{opacity:.2;-webkit-transform:translate(8px,-30px);transform:translate(8px,-30px)}50%{opacity:.35;-webkit-transform:translate(11px,-40px);transform:translate(11px,-40px)}60%{opacity:.2;-webkit-transform:translate(9px,-50px);transform:translate(9px,-50px)}80%{-webkit-transform:translate(7px,-60px);transform:translate(7px,-60px)}to{opacity:0;-webkit-transform:translate(5px,-80px);transform:translate(5px,-80px)}}",""])},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,'a,input{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-user-drag:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}input{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}hr{margin:20px 0;border:0;border-top:1px dashed #c5c5c5;border-bottom:1px dashed #f7f7f7}button{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-smoothing:antialiased}body{font:14px Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.4em;background:#fff;color:#4d4d4d;min-width:230px;max-width:550px;margin:0 auto;font-smoothing:antialiased;font-weight:300;padding:30px}button,input[type=checkbox]{outline:none}.header{position:relative}.header h1{display:inline-block;color:#5dc2af}.edit,.new-todo{position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;border:0;outline:none;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;font-smoothing:antialiased}.new-todo{padding:16px 16px 16px 60px;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.main{position:relative;z-index:2;border-top:1px solid #e6e6e6}label[for=toggle-all]{display:none}.toggle-all{position:absolute;top:-55px;left:-12px;width:60px;height:34px;text-align:center;border:none}.toggle-all:before{content:\'\\276F\';font-size:22px;color:#e6e6e6;padding:10px 27px}.toggle-all:checked:before{color:#737373}.todo-list{margin:0;padding:0;list-style:none;position:relative}.todo-list,.todo-list li{width:100%;max-width:100%}.todo-list li{opacity:0;font-size:24px;border-bottom:1px solid #ededed;display:block;position:absolute;will-change:opacity,transform;-webkit-transition:opacity .3s ease-out;transition:opacity .3s ease-out}.todo-list li:last-child{border-bottom:none}.todo-list li.editing{border-bottom:none;padding:0}.todo-list li.editing .edit{display:block;width:506px;padding:13px 17px 12px;margin:0 0 0 43px}.todo-list li.editing .view{display:none}.todo-list li .toggle{text-align:center;width:40px;height:auto;position:absolute;top:0;bottom:0;margin:auto 0;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.todo-list li .toggle:after{content:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#ededed" stroke-width="3"/></svg>\')}.todo-list li .toggle:checked:after{content:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#bddad5" stroke-width="3"/><path fill="#5dc2af" d="M72 25L42 71 27 56l-4 4 20 20 34-52z"/></svg>\')}.todo-list li label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:15px 60px 15px 15px;margin-left:45px;display:block;max-width:80%;line-height:1.2;-webkit-transition:color .3s;transition:color .3s;-webkit-transform-origin:0 50%;-ms-transform-origin:0 50%;transform-origin:0 50%}.todo-list li.completed label{color:#d9d9d9;text-decoration:line-through}.todo-list li .destroy{display:none;position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;font-size:30px;color:#cc9a9a;margin-bottom:11px;-webkit-transition:color .3s ease-out;transition:color .3s ease-out}.todo-list li .destroy:hover{color:#af5b5e}.todo-list li .destroy:after{content:\'\\D7\'}.todo-list li:hover .destroy{display:block}.todo-list li .edit{display:none}.todo-list li.editing:last-child{margin-bottom:-1px}.footer{color:#777;padding:10px 15px;height:20px;text-align:center;border-top:1px solid #e6e6e6;margin-bottom:40px;position:relative;opacity:0;will-change:opacity,transform;-webkit-transition:opacity .3s ease-out;transition:opacity .3s ease-out}.todo-count{float:left;text-align:left}.todo-count strong{font-weight:300}.filters{margin:0;padding:0;list-style:none;position:absolute;right:0;left:0}.filters li{display:inline}.filters li a{color:inherit;margin:3px;padding:3px 7px;text-decoration:none;border:1px solid transparent;border-radius:3px}.filters li a.selected,.filters li a:hover{border-color:rgba(175,47,47,.1)}.filters li a.selected{border-color:rgba(175,47,47,.2)}.clear-completed,html .clear-completed:active{float:right;line-height:20px;text-decoration:none;cursor:pointer;position:relative}.clear-completed:hover{text-decoration:underline}@media screen and (-webkit-min-device-pixel-ratio:0){.todo-list li .toggle,.toggle-all{background:none}.todo-list li .toggle{height:40px}.toggle-all{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);-webkit-appearance:none;-moz-appearance:none;appearance:none}}@media (max-width:430px){.footer{height:50px}.filters{bottom:10px}}',""])},function(t,e,n){!function(){function e(t){var n=this;return e.is(n)?void n.opt(t):new e(t)}function n(t){t.fns={},t.fns.is=function(t){return t instanceof Function?!0:!1},t.fns.sum=function(t){var n={task:{},data:{}};return n.end=function(e,n){return t(e,n),t=function(){}},n.add=function(r,o){n.task[o=o||(e.text.is(r)?r:e.text.random())]=!1;var i=function(r,i){n.task[o]=!0,r&&((n.err=n.err||{})[o]=r),n.data[o]=i,e.obj.map(n.task,function(t){return t?void 0:!0})||t(n.err,n.data)},a=n;return e.fns.is(r)?function(){return r.apply({task:a.task,data:a.data,end:a.end,done:i},arguments)}:i},n},t.bi={},t.bi.is=function(t){return t instanceof Boolean||"boolean"==typeof t?!0:!1},t.num={},t.num.is=function(e){return 0===e?!0:isNaN(e)||t.bi.is(e)||t.list.is(e)||t.text.is(e)?!1:!0},t.text={},t.text.is=function(t){return"string"==typeof t?!0:!1},t.text.ify=function(e){return t.text.is(e)?e:JSON?JSON.stringify(e):e&&e.toString?e.toString():e},t.text.random=function(t,e){var n="";for(t=t||24,e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghiklmnopqrstuvwxyz";t>0;)n+=e.charAt(Math.floor(Math.random()*e.length)),t--;return n},t.list={},t.list.is=function(t){return t instanceof Array?!0:!1},t.list.slit=Array.prototype.slice,t.list.sort=function(t){return function(e,n){return e&&n?(e=e[t],n=n[t],n>e?-1:e>n?1:0):0}},t.list.map=function(e,n,r){return t.obj.map(e,n,r)},t.list.index=1,t.obj={},t.obj.is=function(e){return e instanceof Object&&!t.list.is(e)&&!t.fns.is(e)?!0:!1},t.obj.del=function(t,e){return t?(t[e]=null,delete t[e],!0):void 0},t.obj.ify=function(e){if(t.obj.is(e))return e;try{e=JSON.parse(e)}catch(n){e={}}return e},t.obj.copy=function(t){return t?JSON.parse(JSON.stringify(t)):t},t.obj.has=function(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)},t.obj.empty=function(e,n){return e&&t.obj.map(e,function(e,r){return n&&(r===n||t.obj.is(n)&&t.obj.has(n,r))?void 0:r?!0:void 0})?!1:!0},t.obj.map=function(e,n,r){var o,i,a,s,u=0,p=0,l=t.fns.is(n),c=function(t,e){return e!==o?(s=s||{},void(s[t]=e)):(s=s||[],void s.push(t))};if(t.list.is(e)){for(i=e.length;i>u;u++)if(p=u+t.list.index,l){if(a=r?n.call(r,e[u],p,c):n(e[u],p,c),a!==o)return a}else if(n===e[u])return p}else for(u in e)if(l){if(t.obj.has(e,u)&&(a=r?n.call(r,e[u],u,c):n(e[u],u,c),a!==o))return a}else if(n===e[u])return u;return l?s:t.list.index?0:-1},t.time={},t.time.is=function(t){return t?t instanceof Date:+(new Date).getTime()},t.time.now=function(e){return(e=e||t.time.is())>(t.time.now.last||-(1/0))?t.time.now.last=e:t.time.now(e+1)}}e._={soul:"#",meta:"_",HAM:">"},function(t){n(t),t.version=.2,t.is=function(e){return e instanceof t?!0:!1},t.is.value=function(e){if(null===e)return!0;if(e===1/0)return!1;if(t.bi.is(e)||t.num.is(e)||t.text.is(e))return!0;var n;return(n=t.is.soul(e))?n:!1},t.is.value.as=function(e){return t.is.value(e)?e:null},t.is.soul=function(e){if(t.obj.is(e)){var n;if(t.obj.map(e,function(e,r){return n?n=!1:r==t._.soul&&t.text.is(e)?void(n=e):n=!1}),n)return n}return!1},t.is.soul.on=function(e){return e&&e._&&e._[t._.soul]||!1},t.is.node=function(e,n){var r;return t.obj.is(e)&&(r=t.is.soul.on(e))?!t.obj.map(e,function(o,i){return i!=t._.meta?t.is.value(o)?void(n&&n(o,i,e._,r)):!0:void 0}):!1},t.is.graph=function(e,n,r){var o=!1;return t.obj.is(e)?!t.obj.map(e,function(e,i){return e&&i===t.is.soul.on(e)&&t.is.node(e,r)?((n||function(){})(e,i,function(n){n&&t.is.node(e,n)}),void(o=!0)):!0})&&o:!1},t.union=function(e,n,r){var o={count:0,cb:function(){r=r?r()&&null:null}};return o.graph=e.__.graph,o.graph||(o.err={err:t.log("No graph!")}),n||(o.err={err:t.log("No data to merge!")}),(o.soul=t.is.soul.on(n))&&(o.tmp={},o.tmp[o.soul]=n,n=o.tmp),t.is.graph(n,null,function(e,n,r){return r&&(r=r[t._.HAM])&&t.num.is(r[n])?void 0:o.err={err:t.log("No state on "+n+"!")}}),o.err?o:(function(n,r){o.count+=1,t.obj.map(r,function(r,i){if(i=t.is.soul.on(r)){o.count+=1;var a=n[i];return a?void t.HAM(a,r,function(){},function(n,o,i){if(n){var a={};a._=a._||{},a._[t._.soul]=t.is.soul.on(n),o&&(a._[t._.HAM]=a._[t._.HAM]||{},n[o]=a[o]=i,(n._[t._.HAM]=n._[t._.HAM]||{})[o]=a._[t._.HAM][o]=r._[t._.HAM][o]),t.on("union").emit(e,a),e.__.on(t.is.soul.on(a)).emit(a)}},function(){})(function(){(o.count-=1)||o.cb()}):(t.on("union").emit(e,n[i]=r),e.__.on(i).emit(r),void(o.count-=1))}}),o.count-=1}(o.graph,n),o.count||o.cb(),o)},t.union.pseudo=function(e,n,r){var o,i=0;return((r=r||{})._={})[t._.soul]=e,t.is.graph(n,function(e,n){i+=1,o=n,t.HAM(r,e,function(){},function(n,r,o){(n._[t._.HAM]=n._[t._.HAM]||{})[r]=e._[t._.HAM][r],n[r]=o},function(){})}),1!=i?r:void 0},t.HAM=function(e,n,o,i,a){function s(t,e,n,r,o){if(e>t)return{amnesiaQuarantine:!0};if(n>e)return{quarantineState:!0};if(e>n)return{converge:!0,incoming:!0};if(e===n){if(r===o)return{state:!0};if(String(r)<String(o))return{converge:!0,current:!0};if(String(o)<String(r))return{converge:!0,incoming:!0}}return{err:"you have not properly handled recursion through your data or filtered it as JSON"}}return a.max=-(1/0),i.end=!0,t.obj.map(n,function u(p,l){if(l!==t._.meta){i.end=!1;var c,f={incoming:{},current:{}};return f.drift=(f.drift=t.time.is())>(t.time.now.last||-(1/0))?f.drift:t.time.now.last,f.incoming.value=t.is.soul(p)||p,f.current.value=t.is.soul(e[l])||e[l],f.incoming.state=t.num.is(f.tmp=((n._||{})[t._.HAM]||{})[l])?f.tmp:-(1/0),
f.current.state=t.num.is(f.tmp=((e._||{})[t._.HAM]||{})[l])?f.tmp:-(1/0),a.max=f.incoming.state>a.max?f.incoming.state:a.max,c=s(f.drift,f.incoming.state,f.current.state,f.incoming.value,f.current.value),c.err?void r.console.log(".!HYPOTHETICAL AMNESIA MACHINE ERR!.",c.err):c.state||c.quarantineState||c.current?void o.call(c,e,l,p):c.incoming?void i.call(c,e,l,p):void(c.amnesiaQuarantine&&(a.wait=!0,a.call(c,e,l,p),t.schedule(f.incoming.state,function(){u(p,l),f.incoming.state===a.max&&(a.last||function(){})()})))}}),i.end&&i.call({},e),function(t){a.last=t||function(){},a.wait||a.last()}},t.on=function(){function e(t){return t?(e.event=e.event||e.create())(t):e.create()}return e.is=function(t){return e instanceof t?!0:!1},e.create=function(){var t=new e.chain;return t.$=function(e){return t.where=e,t}},e.sort=t.list.sort("i"),e.chain=function(){function n(){return this instanceof n?void 0:new n}return n.chain=n.prototype,n.chain.emit=function(e){var n=this,r=n.where,o=arguments,i=(n._=n._||{})[r]=n._[r]||[];(n._[r]=t.list.map(i,function(t,e,n){t&&t.as&&(n(t),t.as.apply(t,o))}))||t.obj.del(i,r)},n.chain.event=function(t,n){if(t){var r=this,o=r.where,i=(arguments,(r._=r._||{})[o]=r._[o]||[]),a={as:t,i:n||0,off:function(){return!(a.as=!1)}};return i.push(a),i.sort(e.sort),a}},n.chain.once=function(t,e){var n=this,r=function(){this.off(),t.apply(this,arguments)};return n.event(r,e)},n}(),e}(),t.roulette=function(e,n){var r=t.is(this)?this:{};if(r._&&r.__.opt&&r.__.opt.uuid){if(t.fns.is(r.__.opt.uuid))return r.__.opt.uuid(e,n);e=e||r.__.opt.uuid.length}return t.text.random(e,n)}}(e),function(t){t.opt=function(t,n){var r=this;return r._=r._||{},r.__=r.__||{},null===t?r:(t=t||{},r.__.opt=r.__.opt||{},r.__.flag=r.__.flag||{start:{},end:{}},r.__.key=r.__.key||{s:{},ed:{}},r.__.graph=r.__.graph||{},r.__.on=r.__.on||e.on.create(),r.__.meta=r.__.meta||function(t){return r.__.meta[t]=r.__.meta[t]||{}},e.text.is(t)&&(t={peers:t}),e.list.is(t)&&(t={peers:t}),e.text.is(t.peers)&&(t.peers=[t.peers]),e.list.is(t.peers)&&(t.peers=e.obj.map(t.peers,function(t,e,n){n(t,{})})),r.__.opt.peers=t.peers||r.__.opt.peers||{},r.__.opt.uuid=t.uuid||r.__.opt.uuid||{},r.__.opt.cb=r.__.opt.cb||function(){},r.__.opt.hooks=r.__.opt.hooks||{},e.obj.map(t.hooks,function(t,n){e.fns.is(t)&&(r.__.opt.hooks[n]=t)}),n||e.on("opt").emit(r,t),r)},e.chain.chain=function(t){var n=e(null);return t=t||this,n.back=t,n.__=t.__,n._={on:e.on.create()},n._.at=function(t){var e=function(e,r,o){var i,a=n._.on(t);(i=((a=n._.on(t)).e=a.e||{})[t])&&setTimeout(function(){e.call(a,i)},0),a[o](function(t){e.call(a,t)},r)};return e.event=function(t,n){return e(t,n,"event")},e.once=function(t,n){return e(t,n,"once")},e.emit=function(e,r){((r=n._.on(t)).e=r.e||{})[t]=e,n._.on(t).emit(e)},e},n},t.get=function(t,n,r){function i(t){var r=s.__.key.s[u.key],o={};e.is.graph(r,function(t,n){o[n]=e.union.pseudo(n),s._.at("soul").emit({soul:n,key:u.key,GET:"SOUL"})}),n.call(s,null,e.obj.copy(r)),n.call(s,null,o),n.call(s,null,{})}function a(t){e.fns.is(u.hook=s.__.opt.hooks.get)?u.hook(t,function(r,i){if(o.log("chain.get ",t,"from hook",r,i,"\n"),r)return n.call(s,r,null);if(!i){if(u.data)return;if(n.call(s,null,null),!u.key||u.soul)return;return s.__.flag.end[u.key]=s.__.flag.end[u.key]||function(t){delete s.__.flag.end[u.key],s._.at("soul").emit(t)},s._.at("null").emit({key:u.key,GET:"NULL"})}return u.data={},e.obj.empty(i)?n.call(s,null,i):e.is.graph(i,function(t,o,a){return(r=e.union(s,t).err)?n.call(s,r,i):(u.key&&((s.__.key.s[u.key]=s.__.key.s[u.key]||{})[o]=s.__.graph[o]),void s._.at("soul").emit({soul:o,key:u.key,GET:"SOUL"}))})?void n.call(s,null,i):n.call(s,{err:e.log("Not a valid graph!")},i)},r):(o.Log("Warning! You have no persistence layer to get from!"),n.call(s,null,null),s._.at("null").emit({key:u.key,GET:"NULL"}))}var s=this.chain(),u={};return t?(u.key=e.text.is(t)&&t,u.soul=e.is.soul(t),n=n||function(){},r=r||{},r.force?a(t):u.soul?((u.node=s.__.graph[u.soul])?((u.graph={})[u.soul]=u.node,n.call(s,null,e.obj.copy(u.graph)),(u.graph={})[u.soul]=e.union.pseudo(u.soul),n.call(s,null,u.graph),n.call(s,null,{})):a(t),u.node=s.__.graph[u.soul]=s.__.graph[u.soul]||e.union.pseudo(u.soul),s._.at("soul").emit({soul:u.soul,GET:"SOUL"})):u.key?s.__.key.s[u.key]?i():(u.flag=s.__.flag.start[u.key])?u.flag.once(i):a(t):n.call(s,{err:e.log("No key or relation to get!")}),s):(n.call(s,{err:e.log("No key or relation to get!")}),s)},t.key=function(t,n,r){function i(i){e.fns.is(s.hook=a.__.opt.hooks.key)?s.hook(t,i.soul,function(t,e){return n.call(a,t,e)},r):(o.Log("Warning! You have no key hook!"),n.call(a,null))}var a=this,s={};return t?(a.back||(a=a.chain()),a.__.key.s[t]&&o.Log("Warning! Key already used!"),n=n||function(){},r=e.text.is(r)?{soul:r}:r||{},r.soul=r.soul||r[e._.soul],r.soul?(a.__.graph[r.soul]||(((a.__.graph[r.soul]={})._={})[e._.soul]=r.soul),(a.__.key.s[t]=a.__.key.s[t]||{})[r.soul]=a.__.graph[r.soul],a.__.flag.end[t]&&a.__.flag.end[t]({soul:r.soul}),i({soul:r.soul})):((a.__.flag.start[t]=a._.at("soul")).once(function(e){o.log("chain.key",t,"\n"),(a.__.key.s[t]=a.__.key.s[t]||{})[e.soul]=a.__.graph[e.soul],delete a.__.flag.start[t]},-1),a._.at("soul").event(i)),a):(n.call(a,{err:e.log("No key!")}),a)},t.all=function(t,e){var n=this.chain();return n},t.path=function(t,n,r){var i=this.chain();return n=n||function(){},r=r||{},(null===t||t)&&e.text.is(t=t.join?t.join("."):t+"")?i.back._.at?(i.back.on(function(a,s){if(s=s||i.__.graph[a.soul]){var u=this||i,p=r.src||i,l={path:t.split(".")},c=e.text.ify(l.path.shift()),f=s[c],m=e.is.soul(f);return o.log("chain.path",c,s,"\n"),c||l.path.length?e.obj.has(s,c)?m?i.get(f,function(t,e){return t?n.call(u,t):void 0}).path(l.path,n,{src:p,step:{soul:a.soul,field:c}}):(n.call(u,null,f,c),p._.at("soul").emit({soul:a.soul,field:c,gun:u,PATH:"SOUL"})):void((r.end||!l.path.length&&i.__.meta(a.soul).end)&&(n.call(u,null,null,c),p._.at("soul").emit({soul:a.soul,field:c,gun:u,PATH:"SOUL"}))):(n.call(u,null,s,c),r.step?p._.at("soul").emit({soul:a.soul,field:null,from:r.step.soul,at:r.step.field,gun:u,PATH:"SOUL"}):p._.at("soul").emit({soul:a.soul,field:null,gun:u,PATH:"SOUL"}))}},{raw:!0,once:!0}),i):(n.call(i,{err:e.log("No context!")}),i):void 0},t.val=function(){return e.on("union").event(function(t,n){e.obj.empty(n,e._.meta)&&((n=t.__.meta(e.is.soul.on(n))).end=(n.end||0)+1)}),function(t,n){var o=this,i={};return t=t||function(t,e){r.console.log(e+":",t)},n=n||{},o.on(function(n,r,a){var s=o.__.graph[n.soul];if(n.key&&(s=e.union.pseudo(n.key,o.__.key.s[n.key])||s),n.field){if(i[n.soul+n.field])return;return i[n.soul+n.field]=!0,t.call(n.gun||o,s[n.field],n.field||n.at)}i[n.soul]||n.key&&i[n.key]||!o.__.meta(n.soul).end||(i[n.soul]=i[n.key]=!0,t.call(n.gun||o,e.obj.copy(s),n.field||n.at))},{raw:!0}),o}}(),t.on=function(t,n){var r=this,o={};return n=e.obj.is(n)?n:{change:n},t=t||function(){},r._.at("soul").event(function(i){o[i.soul]?n.raw&&o[i.soul](r.__.graph[i.soul],i):((o[i.soul]=function(a,s){s=s||i;var u,p=r.__.graph[s.soul];return a&&s.soul!=e.is.soul.on(a)?void 0:s.field&&(u=e.is.soul(p[s.field]))?((o[s.soul+s.field]||{off:function(){}}).off(),void(o[s.soul+s.field]=r.__.on(u).event(function(t){o[i.soul](t,{soul:u,field:null,at:i.field})}))):n.raw?t.call(s.gun||r,s,a,this):void((n.end||!e.obj.empty(a,e._.meta))&&(s.key&&(p=e.union.pseudo(i.key,r.__.key.s[i.key])||p),n.change&&(p=a||p),t.call(s.gun||r,e.obj.copy(s.field?p[s.field]:p),s.field||s.at)))})(r.__.graph[i.soul],i),n.once||r.__.on(i.soul).event(o[i.soul]))}),r},t.put=function(t,n,r){var i=this.chain(),a=function(){i.back._.at("soul").emit({soul:e.is.soul.on(t)||e.roulette.call(i),empty:!0,PUT:"SOUL"})},s=e.time.now();return n=n||function(){},r=r||{},i.back.back||(i=i.chain(),a()),i.back.not&&i.back.not(a),i.back._.at("soul").event(function(a){var u=(a.gun||i,{}),p=t,a=e.obj.copy(a);if(o.log("chain.put",t,"\n"),e.is.value(p)){if(a.from&&a.at&&(a.soul=a.from,a.field=a.at),!a.field)return n.call(i,{err:e.log("No field exists for "+typeof p+"!")});if(!i.__.graph[a.soul])return n.call(i,{err:e.log("No node exists to put "+typeof p+" in!")});u.tmp={},u.tmp[u.field=a.field]=p,p=u.tmp}e.obj.is(p)&&(a.field&&!u.field&&(u.tmp={},u.tmp[u.field=a.field]=p,p=u.tmp),e.ify(p,function(t,n){function r(r,a){o.soul||(o.soul=e.is.soul.on(a)||e.is.soul.on(o.obj)||e.roulette.call(i),t.graph[o.node._[e._.soul]=o.soul]=o.node,n(o,o.soul))}var o;t&&(o=t.at)&&t.at.node&&(o.node._||(o.node._={}),e.is.soul.on(o.node)||(p===o.obj?(t.graph[o.node._[e._.soul]=o.soul=a.soul]=o.node,n(o,o.soul)):a.empty?r():i.back.path(o.path,r,{once:!0,end:!0})),o.node._[e._.HAM]||(o.node._[e._.HAM]={}),o.field&&(o.node._[e._.HAM][o.field]=s))})(function(t,s){return o.log("chain.put PUT <----",s.graph,"\n"),t||s.err?n.call(i,t||s.err):(t=e.union(i,s.graph).err)?n.call(i,t):((a.from=e.is.soul(s.root[a.field]))&&(a.soul=a.from,a.field=null),e.obj.map(s.graph,function(t,n){e.union(i,e.union.pseudo(n))}),i._.at("soul").emit({soul:a.soul,field:a.field,key:a.key,PUT:"SOUL",WAS:"ON"}),void(e.fns.is(u.hook=i.__.opt.hooks.put)?u.hook(s.graph,function(t,e){return t?n.call(i,t):n.call(i,null,e)},r):(o.Log("Warning! You have no persistence layer to save to!"),n.call(i,null))))}))}),i},t.map=function(t,n){var r=this.chain();return n=e.obj.is(n)?n:n?{node:!0}:{},t=t||function(){},r.back.on(function(i){var a=e.is.soul.on(i);o.log("chain.map",i,"\n"),e.obj.map(i,function(o,i){if(e._.meta!=i){var s=e.is.soul(o);if(s)r.get(o).on(function(e,n){t.call(this,e,n||i),r._.at("soul").emit({soul:s,field:null,from:a,at:i,MAP:"SOUL",gun:this})});else{if(n.node)return;t.call(this,o,i),r._.at("soul").emit({soul:a,field:i,MAP:"SOUL"})}}},this||r)},!0),r},t.set=function(t,n,r){var o=this,i=e.time.now();if(n=n||function(){},r=r||{},o.back||(o=o.put({})),o=o.not(function(t){return t?this.put({}).key(t):this.put({})}),!t&&!e.is.value(t))return o;var a={},s="I"+i+"R"+e.text.random(5);return a[s]=t,e.is.value(t)?o.put(a,n):o.put(a,n).path(s)},t.not=function(t){var n=this;return t=t||function(){},n._.at("null").once(function(r){if(!r.soul&&!n.__.key.s[r=(r||{}).key]){var o=function(t){return++s?e.log("Warning! Multiple `not` resumes!"):void t._.at("soul").once(function(t){t.N0T="KICK SOUL",n._.at("soul").emit(t)})},i=n.chain(),a=t.call(i,r,o),s=-1;e.is(a)&&o(a),i._.at("soul").emit({soul:e.roulette.call(i),empty:!0,key:r,N0T:"SOUL",WAS:"ON"})}}),n},t.err=function(t){return this._.err=e.fns.is(t)?t:function(){},this}}(e.chain=e.prototype),function(t){t.waiting=[],t.soonest=1/0,t.sort=e.list.sort("when"),t.set=function(n){if(!(1/0<=(t.soonest=n))){var r=e.time.is();n=r>=n?0:n-r,clearTimeout(t.id),t.id=setTimeout(t.check,n)}},t.check=function(){var n=e.time.is(),r=1/0;t.waiting.sort(t.sort),t.waiting=e.list.map(t.waiting,function(t,o,i){t&&(t.when<=n?e.fns.is(t.event)&&setTimeout(function(){t.event()},0):(r=r<t.when?r:t.when,i(t)))})||[],t.set(r)},e.schedule=function(e,n){t.waiting.push({when:e,event:n||function(){}}),t.soonest<e||t.set(e)}}({}),e.ify=function(t){function n(t,n,a){a=a||{},n=n||function(t,n){n(t.at,e.roulette())};var s=function(t){return u.end=t||function(){},u.err?(u.end(u.err,u),u.end=function(){}):void o(u)},u={};if(!t)return u.err=e.log("Serializer does not have correct parameters."),s;for(u.at={},u.root={},u.graph={},u.queue=[],u.seen=[],u.loop=!0,u.at.path=[],u.at.obj=t,u.at.node=u.root;u.loop&&!u.err;)i(u,u.at),r(u,n),u.queue.length?u.at=u.queue.shift():u.loop=!1;return s}function r(t,n){var r,a=function(n,r){n.soul=n.soul||r,e.list.map(n.back,function(t){t[e._.soul]=n.soul}),o(t)};e.obj.map(t.at.obj,function(o,s){if(t.at.val=o,t.at.field=s,r=n(t,a)||!0,s===e._.meta)return void(t.at.node[s]=e.obj.copy(o));if(e.is.value(o))t.at.node[s]=e.obj.copy(o);else{var u,p={obj:o,node:{},back:[],path:[s]},l={};if(p.path=(t.at.path||[]).concat(p.path||[]),!e.obj.is(o))return t.err={err:e.log("Invalid value at "+p.path.join(".")+"!")};(u=i(t,p))?(l[e._.soul]=e.is.soul.on(u.node)||null,(u.back=u.back||[]).push(t.at.node[s]=l)):(t.queue.push(p),l[e._.soul]=null,p.back.push(t.at.node[s]=l))}}),r||n(t,a)}function o(t){return t.err||!e.list.map(t.seen,function(t){return t.soul?void 0:!0})&&!t.loop?(t.end(t.err,t),t.end=function(){}):void 0}function i(t,n){return e.list.map(t.seen,function(t){return n.obj===t.obj?t:void 0})||t.seen.push(n)&&!1}return n}({}),"undefined"!=typeof window?window.Gun=e:t.exports=e;var r=this||{};r.console=r.console||{log:function(t){return t}};var o={log:e.log=function(t){return e.log.verbose&&r.console.log.apply(r.console,arguments),t},Log:function(t){return!e.log.squelch&&r.console.log.apply(r.console,arguments),t}}}({}),function(t){if(this.Gun){if(!window.JSON)throw new Error("Include JSON first: ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js");Gun.on("opt").event(function(t,r){r=r||{};var o=t.__.tab=t.__.tab||{};o.headers=r.headers||{},o.headers["gun-sid"]=o.headers["gun-sid"]||Gun.text.random(),o.prefix=o.prefix||r.prefix||"gun/",o.prekey=o.prekey||r.prekey||"",o.prenode=o.prenode||r.prenode||"_/nodes/",window.tab=o,window.store=e,o.get=o.get||function(r,i,a){r&&(i=i||function(){},i.GET=!0,(a=a||{}).url=a.url||{},a.headers=Gun.obj.copy(o.headers),Gun.is.soul(r)?a.url.query=r:a.url.pathname="/"+r,Gun.log("tab get --->",r),function s(t,n){var r,i,a=(a=Gun.is.soul(t))?o.prefix+o.prenode+a:o.prefix+o.prekey+t,u=e.get(a);return Gun.is.node(u)?((n.graph=n.graph||{})[i=Gun.is.soul.on(u)]=(r={})[i]=n.node=u,n(null,r),(r={})[i]=Gun.union.pseudo(i),n(null,r)):void(Gun.obj.is(u)&&(Gun.obj.map(u,function(t){Gun.is.soul(t)&&s(t,n)}),n(null,{})))}(r,i),(i.local=a.local)||Gun.obj.map(a.peers||t.__.opt.peers,function(t,e){var s={};n(e,null,o.error(i,"Error: Get failed through "+e,function(t){s.graph||Gun.obj.empty(i.graph)||o.put(s.graph=i.graph,function(t,e){Gun.log("Stateless handshake sync:",t,e)},{peers:o.peers(e)}),Gun.is.graph(t.body,function(t,e){Gun.is.soul(r)||o.key(r,e,function(){},{local:!0})}),setTimeout(function(){o.put(t.body,function(){},{local:!0})},1)}),a),i.peers=!0}),o.peers(i))},o.put=o.put||function(r,i,a){i=i||function(){},a=a||{},Gun.is.graph(r,function(n,r){a.local||t.__.on(r).emit(n),t.__.graph[r]&&e.put(o.prefix+o.prenode+r,t.__.graph[r])}),(i.local=a.local)||Gun.obj.map(a.peers||t.__.opt.peers,function(t,e){n(e,r,o.error(i,"Error: Put failed on "+e),{headers:o.headers}),i.peers=!0}),o.peers(i)},o.key=o.key||function(r,i,a,s){var u={};return s=s||{},a=a||function(){},u[Gun._.soul]=i=Gun.is.soul(i)||i,i?(function(t){(t=e.get(o.prefix+o.prekey+r)||{})[i]=u,e.put(o.prefix+o.prekey+r,t)}(),(a.local=s.local||s.soul)||Gun.obj.map(s.peers||t.__.opt.peers,function(t,e){n(e,u,o.error(a,"Error: Key failed to be made on "+e),{url:{pathname:"/"+r},headers:o.headers}),a.peers=!0}),void o.peers(a)):a({err:Gun.log("No soul!")})},o.error=function(t,e,n){return function(r,o){return o.body=o.body||o.chunk||o.end||o.write,r||!o||(r=o.body&&o.body.err)?t({err:Gun.log(r||e)}):(n&&n(o),void t(null,o.body))}},o.peers=function(t,e){return Gun.text.is(t)?((e={})[t]={},e):void(t&&!t.peers&&setTimeout(function(){t.local||console.log("Warning! You have no peers to connect to!"),t.graph||t.node||t()},1))},o.server=o.server||function(t,e){return t&&e&&t.url&&t.method?(t.url=t.url.href?t.url:document.createElement("a"),t.url.href=t.url.href||t.url,t.url.key=(t.url.pathname||"").replace(o.server.regex,"").replace(/^\//i,"")||"",t.method=t.body?"put":"get","get"==t.method?o.server.get(t,e):"put"==t.method||"post"==t.method?o.server.put(t,e):void 0):void 0},o.server.json="application/json",o.server.regex=t.__.opt.route=t.__.opt.route||r.route||/^\/gun/i,o.server.get=function(){},o.server.put=function(e,n){var r={headers:{"Content-Type":o.server.json}};return e.body?void(o.server.put.key(e,n)||(Gun.is.node(e.body)||Gun.is.graph(e.body,function(e,n){t.__.flag.end[n]=!0}))&&(e.err=Gun.union(t,e.body,function(o,i){if(o)return n({headers:r.headers,body:{err:o||"Union failed."}});var i=i||{};i.graph={},Gun.is.graph(e.body,function(e,n){i.graph[n]=t.__.graph[n]}),t.__.opt.hooks.put(i.graph,function(t,e){return t?n({headers:r.headers,body:{err:t||"Failed."}}):void n({headers:r.headers,body:{ok:e||"Persisted."}})},{local:!0})}).err)&&n({headers:r.headers,body:{err:e.err||"Union failed."}})):n({headers:r.headers,body:{err:"No body"}})},o.server.put.key=function(e,n){if(e&&e.url&&e.url.key&&Gun.obj.has(e.body,Gun._.soul)){var r=e.url.key,i=Gun.is.soul(e.body);return t.key(r,function(t,e){return t?n({headers:{"Content-Type":o.server.json},body:{err:t}}):void n({headers:{"Content-Type":o.server.json},body:e})},i),!0}},Gun.obj.map(t.__.opt.peers,function(){return o.request=o.request||n.createServer(o.server)||!0}),t.__.opt.hooks.get=t.__.opt.hooks.get||o.get,t.__.opt.hooks.put=t.__.opt.hooks.put||o.put,t.__.opt.hooks.key=t.__.opt.hooks.key||o.key});var e=function(){function t(){}var e=window.localStorage||{setItem:function(){},removeItem:function(){},getItem:function(){}};return t.put=function(t,n){return e.setItem(t,Gun.text.ify(n))},t.get=function(t){return Gun.obj.ify(e.getItem(t)||null)},t.del=function(t){return e.removeItem(t)},t}(),n=function(){function t(e,n,r,o){o=o||(e.length?{base:e}:e),o.base=o.base||e,o.body=o.body||n,o.base&&t.transport(o,r)}return t.createServer=function(e){t.createServer.s.push(e)},t.createServer.ing=function(e,n){for(var r=t.createServer.s.length;r--;)(t.createServer.s[r]||function(){})(e,n)},t.createServer.s=[],t.transport=function(e,n){t.ws(e,n)||t.jsonp(e,n)},t.ws=function(e,n){var r,o=window.WebSocket||window.mozWebSocket||window.webkitWebSocket;if(o){if(r=t.ws.peers[e.base]){if(!r.readyState)return setTimeout(function(){t.ws(e,n)},10),!0;var i={};return e.headers&&(i.headers=e.headers),e.body&&(i.body=e.body),e.url&&(i.url=e.url),i.headers=i.headers||{},t.ws.cbs[i.headers["ws-rid"]="WS"+ +new Date+"."+Math.floor(65535*Math.random()+1)]=function(e,r){(r.body||r.end)&&delete t.ws.cbs[i.headers["ws-rid"]],n(e,r)},r.send(JSON.stringify(i)),!0}if(r!==!1)return r=t.ws.peers[e.base]=new o(e.base.replace("http","ws")),r.onopen=function(r){t.ws(e,n)},r.onclose=window.onbeforeunload=function(o){if(o){if(r&&r.close instanceof Function&&r.close(),1006===o.code)return r=t.ws.peers[e.base]=!1,void t.transport(e,n);r=t.ws.peers[e.base]=null,setTimeout(function(){console.log("!!!!! WEBSOCKET DICONNECTED !!!!!! ATTEMPTING INFINITE RETRY WITH NO BACKOFF !!!!!!!"),t.ws(e,function(){})},50)}},r.onmessage=function(e){if(e&&e.data){var n;try{n=JSON.parse(e.data)}catch(r){return}if(n){if(n.headers=n.headers||{},n.headers["ws-rid"])return(t.ws.cbs[n.headers["ws-rid"]]||function(){})(null,n);Gun.log("We have a pushed message!",n),n.body&&t.createServer.ing(n,function(){})}}},r.onerror=function(t){console.log("!!!! WEBSOCKET ERROR !!!!",t),Gun.log(t)},!0}},t.ws.peers={},t.ws.cbs={},t.jsonp=function(e,n){t.jsonp.ify(e,function(r){r&&t.jsonp.send(r,function(r){n(null,r),t.jsonp.poll(e,r)},e.jsonp)})},t.jsonp.send=function(t,e,n){var r=document.createElement("script");return r.src=t,window[r.id=n]=function(t){e(t),e.id=r.id,r.parentNode.removeChild(r),window[e.id]=null;try{delete window[e.id]}catch(n){}},r.async=!0,document.getElementsByTagName("head")[0].appendChild(r),r},t.jsonp.poll=function(e,n){e&&e.base&&n&&n.headers&&n.headers.poll&&((t.jsonp.poll.s=t.jsonp.poll.s||{})[e.base]=t.jsonp.poll.s[e.base]||setTimeout(function(){var n={base:e.base,headers:{pull:1}};t.each(e.headers,function(t,e){n.headers[e]=t}),t.jsonp(n,function(n,r){for(delete t.jsonp.poll.s[e.base];r.body&&r.body.length&&r.body.shift;){var o=r.body.shift();o&&o.body&&t.createServer.ing(o,function(){})}})},n.headers.poll))},t.jsonp.ify=function(e,n){var r=encodeURIComponent,o="?";if(e.url&&e.url.pathname&&(o=e.url.pathname+o),o=e.base+o,t.each((e.url||{}).query,function(t,e){o+=r(e)+"="+r(t)+"&"}),e.headers&&(o+=r("`")+"="+r(JSON.stringify(e.headers))+"&"),t.jsonp.max<o.length)return n();if(o+=r("jsonp")+"="+r(e.jsonp="P"+Math.floor(65535*Math.random()+1)),e.body){o+="&";var i=e.body,a=function(t,e,n){return r("%")+"="+r(t+"-"+(e||t)+"/"+(n||t))+"&"+r("$")+"="};"string"!=typeof i&&(i=JSON.stringify(i),o+=r("^")+"="+r("json")+"&"),i=r(i);var s=0,u=i.length,p=t.jsonp.max-(o.length+a(u.toString()).length);if(0>p)return n();for(;i;)n(o+a(s,s+=p,u)+i.slice(0,s)),i=i.slice(s)}else n(o)},t.jsonp.max=2e3,t.each=function(t,e){if(t&&e)for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},t}()}}({})},function(t,e,n){!function(){function t(t){return t?t.toArray?t.toArray():t:[]}n(9),n(20),n(19),n(8);var e=n(7),r=e.ENTER_KEY,o=e.ITEM_HEIGHT;Todos=new TodoModel("todo/data");var i=window.requestAnimationFrame||setTimeout,a=function(t){return t?i(function(){return i(t)}):void 0},s=10,u=0;Imba.extendTag("htmlelement",function(t){var e=["up","down"];t.prototype.bounce=function(t){var n=this,r=e[1-e.indexOf(t)];return["bounce-"+r+"-1","bounce-"+r+"-2"].map(function(t){return n.unflag(t)}),n.hasFlag("bounce-"+t+"-1")?(n.unflag("bounce-"+t+"-1"),n.flag("bounce-"+t+"-2")):n.hasFlag("bounce-"+t+"-2")?(n.unflag("bounce-"+t+"-2"),n.flag("bounce-"+t+"-1")):n.flag("bounce-"+t+"-1"),n},t.prototype.setMoveTo=function(t){var e=this;return a(function(){return 0==e._dom.style.opacity?e._dom.style.opacity=1:void 0}),e._dom.style.top==""+t+"px"?e:(~~t<~~e._y&&e.bounce("up"),(!e._y||~~t>~~e._y)&&e.bounce("down"),e._dom.style.top=""+t+"px",e._y=t,e)}}),Imba.defineTag("heart","div",function(t){var e=["💜","💚","💛","💙"],n=["fly-1","fly-2","fly-3"];t.prototype.build=function(){var t=this;return setTimeout(function(){return t.orphanize(),u--},4e3),t.render(),t},t.prototype.render=function(){return this.flag(n[Math.floor(Math.random()*n.length)]),this._dom.style.fontSize=Math.floor(8*Math.random())+14+"px",this.flag("heart").setChildren(""+e[Math.floor(Math.random()*e.length)]).synced(),u++}}),Imba.defineTag("app",function(e){e.prototype.hash=function(){return this._hash},e.prototype.model=function(){return this._model},e.prototype.build=function(){var t=this;return t._model=Todos,t._model.subscribe(function(){return s>u&&q$$("#heartbox").append(t$("heart").end()),t.render()}),t._model.load(),window.addEventListener("hashchange",function(){return t._hash=window.location.hash,t.render()}),t._hash=window.location.hash,t.render(),t},e.prototype.onkeydown=function(t){var e,n;return t.which()==r&&(e=t.target().value().trim())?(this.model().addTodo(e),t.target().setValue(n=""),n):void 0},e.prototype.toggleAll=function(t){return this.model().toggleAll(t.target().checked())},e.prototype.clearCompleted=function(){return q$$(".toggle-all",this).setChecked(!1),this.model().clearCompleted()},e.prototype.list=function(e){for(var n,r=0,i=t(e),a=i.length,s=[];a>r;r++)n=i[r],s.push((this["_"+n.id]=this["_"+n.id]||t$("todo")).setMoveTo(""+r*o).setObject(n).end());return s},e.prototype.render=function(){for(var e,n,r,i,a=Todos.sorted(),s=a.length,u=[],p=[],l=0,c=t(a),f=c.length;f>l;l++)i=c[l],i.completed?u.push(i):p.push(i);var m={"#/completed":u,"#/active":p}[this._hash]||a;return this.setChildren(Imba["static"]([(e=this.$a||(this.$a=t$("header").flag("header"))).setContent(Imba["static"]([(e.$$a=e.$$a||t$("h1")).setText("todos").end(),(e.$$b=e.$$b||ti$("div","heartbox")).end(),(e.$$c=e.$$c||t$("input").flag("new-todo").setType("text").setPlaceholder("What to do?")).end()],1)).end(),s&&(e=this.$b||(this.$b=t$("section").flag("main"))).setContent(Imba["static"]([(e.$$a=e.$$a||t$("input").flag("toggle-all").setType("checkbox").setHandler("change","toggleAll",this)).setChecked(u.length==s).end(),(e.$$b=e.$$b||t$("ul").flag("todo-list")).setContent(this.list(m)).end()],1)).end(),s&&(e=this.$c||(this.$c=t$("footer").flag("footer"))).setMoveTo(""+m.length*o).setContent(Imba["static"]([(n=e.$$a||(e.$$a=t$("span").flag("todo-count"))).setContent(Imba["static"]([(n.$$a=n.$$a||t$("strong")).setContent(""+p.length+" ").end(),1==p.length?"item left":"items left"],1)).end(),(n=e.$$b||(e.$$b=t$("ul").flag("filters"))).setContent(Imba["static"]([(r=n.$$a||(n.$$a=t$("li"))).setContent((r.$$a=r.$$a||t$("a").setHref("#/")).flag("selected",m==a).setText("All").end()).end(),(r=n.$$b||(n.$$b=t$("li"))).setContent((r.$$a=r.$$a||t$("a").setHref("#/active")).flag("selected",m==p).setText("Active").end()).end(),(r=n.$$c||(n.$$c=t$("li"))).setContent((r.$$a=r.$$a||t$("a").setHref("#/completed")).flag("selected",m==u).setText("Completed").end()).end()],1)).end(),u.length&&(e.$$c=e.$$c||t$("button").flag("clear-completed").setHandler("tap","clearCompleted",this)).setText("Clear completed").end()],1)).end()],1)).synced()}});var p=ti$("app","app").end();q$$("body").append(p)}()},function(t,e){!function(){var e,n,r;t.exports.ESCAPE_KEY=e=27,t.exports.ENTER_KEY=n=13,t.exports.ITEM_HEIGHT=r=60,Imba.defineTag("todo","li",function(t){t.prototype.model=function(){return this.up(q$("._app",this)).model()},t.prototype.commit=function(){return this._hash!=this.hash(this._object)&&(this._hash=this.hash(this._object),this.render()),this},t.prototype.hash=function(t){return""+t.id+t.title+t.completed+this._editing},t.prototype.render=function(){var t,e=this._object;return this.flag("completed",e.completed).setChildren(Imba["static"]([(t=this.$a||(this.$a=t$("div").flag("view"))).setContent(Imba["static"]([(t.$$a=t.$$a||t$("label").setHandler("dblclick","edit",this)).setContent(""+e.title).end(),(this._toggle=this._toggle||t$("input").setRef("toggle",this).setType("checkbox").setHandler("change","toggle",this)).setChecked(e.completed).end(),(t.$$c=t.$$c||t$("button").flag("destroy").setHandler("tap","drop",this)).end()],1)).end(),(this._input=this._input||t$("input").setRef("input",this).flag("edit").setType("text")).end()],1)).synced()},t.prototype.edit=function(){var t=this;return this._editing=!0,this.flag("editing"),this._input.setValue(this._object.title),setTimeout(function(){return t._input.focus()},10),t.render()},t.prototype.drop=function(){return this.model().destroy(this.object())},t.prototype.toggle=function(t){return this.model().toggle(this._object)},t.prototype.submit=function(){this._editing=!1,this.unflag("editing");var t=this._input.value().trim();return this._object.title!=t?(this._object.title=t,t?this.model().rename(this.object(),t):this.model().destroy(this.object()),this.render()):void 0},t.prototype.onfocusout=function(t){return this._editing?this.submit():void 0},t.prototype.cancel=function(){return this._editing=!1,this.unflag("editing"),this._input.blur(),this.render()},t.prototype.onkeydown=function(t){return t.halt(),t.which()==n&&this.submit(),t.which()==e?this.cancel():void 0}})}()},function(t,e,n){(function(t){!function(){function e(t){return t?t.toArray?t.toArray():t:[]}function r(t){this._listeners=[],this._key=t}n(5);var o=100;t.TodoModel=r,r.prototype.__items={"default":[],name:"items"},r.prototype.items=function(t){return this._items},r.prototype.setItems=function(t){return this._items=t,this},r.prototype._items=[],r.prototype.subscribe=function(t){return this._listeners.push(t),this},r.prototype.sorted=function(){return this.items().sort(function(t,e){var t=t.id.slice(1,20),e=e.id.slice(1,20);return e>t?1:t>e?-1:0})},r.prototype.notify=function(){for(var t=0,n=e(this._listeners),r=n.length,o=[];r>t;t++)o.push(n[t]());return o},r.prototype.inform=function(){var t=this;return t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){return t.notify()},o),t},r.prototype.put=function(t,e,n){if(t){var r=e?{title:e.title||"<untitled>",completed:e.completed||!1}:null;return this._gun.path(t).put(r,n),this}},r.prototype.uid=function(){return"I"+Gun.time.now()+"R"+Gun.text.random(5)},r.prototype.addTodo=function(t){return this.put(this.uid(),{title:t,completed:!1})},r.prototype.toggleAll=function(t){for(var n=0,r=e(this.items()),o=r.length,i=[];o>n;n++)i.push(this.setCompleted(r[n],t));return i},r.prototype.setCompleted=function(t,e){return void 0===e&&(e=!0),this.put(t.id,{title:t.title,completed:e})},r.prototype.toggle=function(t){return this.put(t.id,{title:t.title,completed:!t.completed})},r.prototype.destroy=function(t){return this.put(t.id,null)},r.prototype.save=function(t){return this.put(t.id,t)},r.prototype.rename=function(t,e){return this.put(t.id,{title:e,completed:t.completed})},r.prototype.clearCompleted=function(){var t=this;return t.items().map(function(e){return e.completed?t.destroy(e):void 0}),t},r.prototype.load=function(){var t=this;return t._gun=Gun(window.location.origin+"/gun").get(t._key).not(function(){var e;return this.put((e={},e[""+t.uid()]={title:"Digg it...😋😋😋😋😋😜😜😜😜😜",completed:!1},e)).key(t._key)}),t._gun.map(function(n,r){if(r){for(var o,i=0,a=e(t._items),s=a.length;s>i;i++)if(o=a[i],o.id==r)var u=o;if(u&&null==n)return t._items.splice(t._items.indexOf(u),1),t.inform();if(u){if(u.title!=n.title||u.completed!=n.completed)return u.title=n.title||"<untitled>",u.completed=n.completed||!1,t.inform()}else if(n)return t._items.push({id:r,title:n.title,completed:n.completed||!1}),t.inform()}}),t}}()}).call(e,function(){return this}())},function(t,e,n){!function(){"undefined"==typeof Imba&&(n(17),n(10),n(14),n(11),n(13),n(15),n(12),n(16),n(18))}()},function(t,e){!function(){function t(t,e,n){for(var r,o,i;(r=n)&&(n=n.next);)(o=n.listener)&&(i=n.path&&o[n.path]?e?o[n.path].apply(o,e):o[n.path]():e?o.apply(n,e):o.call(n)),n.times&&--n.times<=0&&(r.next=n.next,n.listener=null)}Imba.listen=function(t,e,n,r){var o,i,a,s;return i=t.__listeners__||(t.__listeners__={}),a=i[o=e]||(i[o]={}),s=a.tail||(a.tail=a.next={}),s.listener=n,s.path=r,a.tail=s.next={},s},Imba.once=function(t,e,n){var r=Imba.listen(t,e,n);return r.times=1,r},Imba.unlisten=function(t,e,n,r){var o,i,a=t.__listeners__;if(a&&(o=a[e]))for(;(i=o)&&(o=o.next);)if(o==n||o.listener==n){i.next=o.next,o.listener=null;break}},Imba.emit=function(e,n,r){var o;(o=e.__listeners__)&&(o[n]&&t(n,r,o[n]),o.all&&t(n,[n,r],o.all))},Imba.observeProperty=function(t,e,n,r,o){return o&&"object"==typeof o&&Imba.unlisten(o,"all",t,n),r&&"object"==typeof r&&Imba.listen(r,"all",t,n),this}}()},function(t,e){!function(){function t(t){return t?t.toArray?t.toArray():t:[]}var e=window.getComputedStyle(document.documentElement,"");Imba.CSSKeyMap={};for(var n,r=0,o=t(e),i=o.length;i>r;r++){n=o[r];var a=n.replace(/^-(webkit|ms|moz|o|blink)-/,""),s=a.replace(/-(\w)/g,function(t,e){return e.toUpperCase()});n!=a&&e.hasOwnProperty(a)||(Imba.CSSKeyMap[a]=Imba.CSSKeyMap[s]=n)}Imba.extendTag("htmlelement",function(t){t.prototype.css=function(t,e){if(t instanceof Object){for(var n=0,r=Object.keys(t),o=r.length;o>n;n++)this.css(r[n],t[r[n]]);return this}if(t=Imba.CSSKeyMap[t]||t,null==e)this.dom().style.removeProperty(t);else{if(void 0==e)return this.dom().style[t];("number"==typeof e||e instanceof Number)&&t.match(/width|height|left|right|top|bottom/)&&(e+="px"),this.dom().style[t]=e}return this}})}()},function(t,e){!function(){function t(t){return t?t.toArray?t.toArray():t:[]}var e=(document,window),n=window&&void 0!==window.ontouchstart;Imba.RingBuffer=function(t){void 0===t&&(t=10),this._array=[],this._keep=t,this._head=0},Imba.RingBuffer.prototype.__head={name:"head"},Imba.RingBuffer.prototype.head=function(t){return this._head},Imba.RingBuffer.prototype.setHead=function(t){return this._head=t,this},Imba.RingBuffer.prototype.push=function(t){var e=this._head++;return this._array[e%this._keep]=t,e},Imba.RingBuffer.prototype.last=function(){return this._array[this._head%this._keep]},Imba.Pointer=function(){this.setButton(-1),this.setEvents(new Imba.RingBuffer(10)),this.setEvent({x:0,y:0,type:"uninitialized"})},Imba.Pointer.prototype.__phase={name:"phase"},Imba.Pointer.prototype.phase=function(t){return this._phase},Imba.Pointer.prototype.setPhase=function(t){return this._phase=t,this},Imba.Pointer.prototype.__prevEvent={name:"prevEvent"},Imba.Pointer.prototype.prevEvent=function(t){return this._prevEvent},Imba.Pointer.prototype.setPrevEvent=function(t){return this._prevEvent=t,this},Imba.Pointer.prototype.__button={name:"button"},Imba.Pointer.prototype.button=function(t){
return this._button},Imba.Pointer.prototype.setButton=function(t){return this._button=t,this},Imba.Pointer.prototype.__event={name:"event"},Imba.Pointer.prototype.event=function(t){return this._event},Imba.Pointer.prototype.setEvent=function(t){return this._event=t,this},Imba.Pointer.prototype.__dirty={name:"dirty"},Imba.Pointer.prototype.dirty=function(t){return this._dirty},Imba.Pointer.prototype.setDirty=function(t){return this._dirty=t,this},Imba.Pointer.prototype.__events={name:"events"},Imba.Pointer.prototype.events=function(t){return this._events},Imba.Pointer.prototype.setEvents=function(t){return this._events=t,this},Imba.Pointer.prototype.__touch={name:"touch"},Imba.Pointer.prototype.touch=function(t){return this._touch},Imba.Pointer.prototype.setTouch=function(t){return this._touch=t,this},Imba.Pointer.prototype.update=function(t){return this.setEvent(t),this.events().push(t),this.setDirty(!0),this},Imba.Pointer.prototype.process=function(){var t=(this.phase(),this.prevEvent(),this.event());return this.dirty()?(this.setPrevEvent(t),this.setDirty(!1),"mousedown"==t.type?(this.setButton(t.button),this.setTouch(new Imba.Touch(t,this)),this.touch().mousedown(t,t)):"mousemove"==t.type?this.touch()&&this.touch().mousemove(t,t):"mouseup"==t.type&&(this.setButton(-1),this.touch()&&this.touch().mouseup(t,t),this.setTouch(null))):this.touch()&&this.touch().idle(),this},Imba.Pointer.prototype.emit=function(t,e,n){return n&&n.constructor===Object||(n={}),void 0!==n.bubble?n.bubble:!0,!0},Imba.Pointer.prototype.cleanup=function(){return Imba.POINTERS},Imba.Pointer.prototype.x=function(){return this.event().x},Imba.Pointer.prototype.y=function(){return this.event().y},Imba.Pointer.update=function(){for(var n=0,r=t(Imba.POINTERS),o=r.length;o>n;n++)r[n].process();return e.requestAnimationFrame(Imba.Pointer.update),this},Imba.Touch=function(t,e){this.setEvent(t),this.setData({}),this.setActive(!0),this._suppress=!1,this.setBubble(!1),this.setPointer(e),this.setUpdates(0)};var r=[],o=0,i={};Imba.Touch.count=function(){return o},Imba.Touch.lookup=function(t){return t&&(t.__touch__||i[t.identifier])},Imba.Touch.release=function(t,e){var n,r;n=i[t.identifier],delete i[t.identifier],r=t.__touch__,delete t.__touch__,r},Imba.Touch.ontouchstart=function(e){for(var n,a=0,s=t(e.changedTouches),u=s.length;u>a;a++)if(n=s[a],!this.lookup(n)){var p=i[n.identifier]=new this(e);n.__touch__=p,r.push(p),o++,p.touchstart(e,n)}return this},Imba.Touch.ontouchmove=function(e){for(var n,r,o=0,i=t(e.changedTouches),a=i.length;a>o;o++)r=i[o],(n=this.lookup(r))&&n.touchmove(e,r);return this},Imba.Touch.ontouchend=function(e){for(var n,r,i=0,a=t(e.changedTouches),s=a.length;s>i;i++)r=a[i],(n=this.lookup(r))&&(n.touchend(e,r),this.release(r,n),o--);return this},Imba.Touch.ontouchcancel=function(e){for(var n,r,i=0,a=t(e.changedTouches),s=a.length;s>i;i++)r=a[i],(n=this.lookup(r))&&(n.touchcancel(e,r),this.release(r,n),o--);return this},Imba.Touch.prototype.__phase={name:"phase"},Imba.Touch.prototype.phase=function(t){return this._phase},Imba.Touch.prototype.setPhase=function(t){return this._phase=t,this},Imba.Touch.prototype.__active={name:"active"},Imba.Touch.prototype.active=function(t){return this._active},Imba.Touch.prototype.setActive=function(t){return this._active=t,this},Imba.Touch.prototype.__event={name:"event"},Imba.Touch.prototype.event=function(t){return this._event},Imba.Touch.prototype.setEvent=function(t){return this._event=t,this},Imba.Touch.prototype.__pointer={name:"pointer"},Imba.Touch.prototype.pointer=function(t){return this._pointer},Imba.Touch.prototype.setPointer=function(t){return this._pointer=t,this},Imba.Touch.prototype.__target={name:"target"},Imba.Touch.prototype.target=function(t){return this._target},Imba.Touch.prototype.setTarget=function(t){return this._target=t,this},Imba.Touch.prototype.__handler={name:"handler"},Imba.Touch.prototype.handler=function(t){return this._handler},Imba.Touch.prototype.setHandler=function(t){return this._handler=t,this},Imba.Touch.prototype.__updates={name:"updates"},Imba.Touch.prototype.updates=function(t){return this._updates},Imba.Touch.prototype.setUpdates=function(t){return this._updates=t,this},Imba.Touch.prototype.__suppress={name:"suppress"},Imba.Touch.prototype.suppress=function(t){return this._suppress},Imba.Touch.prototype.setSuppress=function(t){return this._suppress=t,this},Imba.Touch.prototype.__data={name:"data"},Imba.Touch.prototype.data=function(t){return this._data},Imba.Touch.prototype.setData=function(t){return this._data=t,this},Imba.Touch.prototype.__bubble={chainable:!0,name:"bubble"},Imba.Touch.prototype.bubble=function(t){return void 0!==t?(this.setBubble(t),this):this._bubble},Imba.Touch.prototype.setBubble=function(t){return this._bubble=t,this},Imba.Touch.prototype.__gestures={name:"gestures"},Imba.Touch.prototype.gestures=function(t){return this._gestures},Imba.Touch.prototype.setGestures=function(t){return this._gestures=t,this},Imba.Touch.prototype.__x0={name:"x0"},Imba.Touch.prototype.x0=function(t){return this._x0},Imba.Touch.prototype.setX0=function(t){return this._x0=t,this},Imba.Touch.prototype.__y0={name:"y0"},Imba.Touch.prototype.y0=function(t){return this._y0},Imba.Touch.prototype.setY0=function(t){return this._y0=t,this},Imba.Touch.prototype.preventDefault=function(){return this._preventDefault=!0,this.event()&&this.event().preventDefault(),this},Imba.Touch.prototype.extend=function(t){return this._gestures||(this._gestures=[]),this._gestures.push(t),this},Imba.Touch.prototype.redirect=function(t){return this._redirect=t,this},Imba.Touch.prototype.suppress=function(){return this._active=!1,this},Imba.Touch.prototype.touchstart=function(t,e){return this._event=t,this._touch=e,this._x=e.clientX,this._y=e.clientY,this.began(),t&&this._suppress&&t.preventDefault(),this},Imba.Touch.prototype.touchmove=function(t,e){return this._event=t,this._x=e.clientX,this._y=e.clientY,this.update(),t&&this._suppress&&t.preventDefault(),this},Imba.Touch.prototype.touchend=function(t,e){return this._event=t,this._x=e.clientX,this._y=e.clientY,this.ended(),t&&this._suppress&&t.preventDefault(),this},Imba.Touch.prototype.touchcancel=function(t,e){return this},Imba.Touch.prototype.mousedown=function(t,e){return this._x=e.clientX,this._y=e.clientY,this.began(),this},Imba.Touch.prototype.mousemove=function(t,e){return this._x=e.clientX,this._y=e.clientY,this._event=t,this._suppress&&t.preventDefault(),this.update(),this.move(),this},Imba.Touch.prototype.mouseup=function(t,e){return this._x=e.clientX,this._y=e.clientY,this.ended(),this},Imba.Touch.prototype.idle=function(){return this.update()},Imba.Touch.prototype.began=function(){this._x0=this._x,this._y0=this._y;var t=(this.event(),this.event().target),e=null;for(this._sourceTarget=t&&tag$wrap(t);t&&(e=tag$wrap(t),!e||!e.ontouchstart||(this._bubble=!1,this.setTarget(e),this.target().ontouchstart(this),this._bubble));)t=t.parentNode;return this._updates++,this},Imba.Touch.prototype.update=function(){if(!this._active)return this;if(this._redirect&&(this._target&&this._target.ontouchcancel&&this._target.ontouchcancel(this),this.setTarget(this._redirect),this._redirect=null,this.target().ontouchstart&&this.target().ontouchstart(this)),this._updates++,this._gestures)for(var e=0,n=t(this._gestures),r=n.length;r>e;e++)n[e].ontouchupdate(this);return this.target()&&this.target().ontouchupdate&&this.target().ontouchupdate(this),this},Imba.Touch.prototype.move=function(){if(!this._active)return this;if(this._gestures)for(var e,n=0,r=t(this._gestures),o=r.length;o>n;n++)e=r[n],e.ontouchmove&&e.ontouchmove(this,this._event);return this.target()&&this.target().ontouchmove&&this.target().ontouchmove(this,this._event),this},Imba.Touch.prototype.ended=function(){if(!this._active)return this;if(this._updates++,this._gestures)for(var e=0,n=t(this._gestures),r=n.length;r>e;e++)n[e].ontouchend(this);return this.target()&&this.target().ontouchend&&this.target().ontouchend(this),this._touch&&ED.trigger("tap",this.event().target),this},Imba.Touch.prototype.cancelled=function(){return this},Imba.Touch.prototype.dx=function(){return this._x-this._x0},Imba.Touch.prototype.dy=function(){return this._y-this._y0},Imba.Touch.prototype.x=function(){return this._x},Imba.Touch.prototype.y=function(){return this._y},Imba.Touch.prototype.button=function(){return this._pointer?this._pointer.button():0},Imba.Touch.prototype.sourceTarget=function(){return this._sourceTarget},Imba.TouchGesture=function(){},Imba.TouchGesture.prototype.__active={"default":!1,name:"active"},Imba.TouchGesture.prototype.active=function(t){return this._active},Imba.TouchGesture.prototype.setActive=function(t){return this._active=t,this},Imba.TouchGesture.prototype._active=!1,Imba.TouchGesture.prototype.ontouchstart=function(t){return this},Imba.TouchGesture.prototype.ontouchupdate=function(t){return this},Imba.TouchGesture.prototype.ontouchend=function(t){return this},Imba.POINTER=new Imba.Pointer,Imba.POINTERS=[Imba.POINTER],Imba.KEYMAP={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"break",20:"caps",27:"esc",32:"space",35:"end",36:"home",37:"larr",38:"uarr",39:"rarr",40:"darr",45:"insert",46:"delete",107:"plus",106:"mult",91:"meta"},Imba.CHARMAP={"%":"modulo","*":"multiply","+":"add","-":"sub","/":"divide",".":"dot"},Imba.Event=function(t){this.setEvent(t),this.setBubble(!0)},Imba.Event.prototype.__event={name:"event"},Imba.Event.prototype.event=function(t){return this._event},Imba.Event.prototype.setEvent=function(t){return this._event=t,this},Imba.Event.prototype.__target={name:"target"},Imba.Event.prototype.target=function(t){return this._target},Imba.Event.prototype.setTarget=function(t){return this._target=t,this},Imba.Event.prototype.__prefix={name:"prefix"},Imba.Event.prototype.prefix=function(t){return this._prefix},Imba.Event.prototype.setPrefix=function(t){return this._prefix=t,this},Imba.Event.prototype.__data={name:"data"},Imba.Event.prototype.data=function(t){return this._data},Imba.Event.prototype.setData=function(t){return this._data=t,this},Imba.Event.prototype.__source={name:"source"},Imba.Event.prototype.source=function(t){return this._source},Imba.Event.prototype.setSource=function(t){return this._source=t,this},Imba.Event.prototype.__bubble={name:"bubble"},Imba.Event.prototype.bubble=function(t){return this._bubble},Imba.Event.prototype.setBubble=function(t){return this._bubble=t,this},Imba.Event.wrap=function(t){return new this(t)},Imba.Event.prototype.name=function(){return this.event().type.toLowerCase().replace(/\:/g,"")},Imba.Event.prototype.bubble=function(t){return void 0!=t?(this.setBubble(t),this):this._bubble},Imba.Event.prototype.halt=function(){return this.setBubble(!1),this},Imba.Event.prototype.cancel=function(){return this.event().preventDefault&&this.event().preventDefault(),this._cancel=!0,this},Imba.Event.prototype.target=function(){return tag$wrap(this.event()._target||this.event().target)},Imba.Event.prototype.redirect=function(t){return this._redirect=t,this},Imba.Event.prototype.keychar=function(){if(this.event()instanceof TextEvent)return this.event().data;if(this.event()instanceof KeyboardEvent){var t=this.event().keyIdentifier,e=Imba.KEYMAP[this.event().keyCode];return e||"U+"!=t.substr(0,2)||(e=String.fromCharCode(parseInt(t.substr(2),16))),e}return null},Imba.Event.prototype.keycombo=function(){var t;if(t=this.keychar()){t=Imba.CHARMAP[t]||t;var e=[],n=this.event();return n.ctrlKey&&e.push("ctrl"),n.shiftKey&&e.push("shift"),n.altKey&&e.push("alt"),n.metaKey&&e.push("cmd"),e.push(t),e.join("_").toLowerCase()}},Imba.Event.prototype.process=function(){for(var t,e,n="on"+(this._prefix||"")+this.name(),r=null,o=this.event()._target||this.event().target,i=o._responder||o;i;){if(this._redirect=null,t=tag$wrap(i)){if("string"==typeof t[e=n]||t[e]instanceof String){n=t[n];continue}if(t[n]instanceof Array){r=t[n].concat(t),n=r.shift();continue}t[n]instanceof Function&&(r?t[n].apply(t,r):t[n](this,this.data()))}if(!this.bubble()||!(i=this._redirect||(t?t.parent():i.parentNode)))break}return this},Imba.Event.prototype.x=function(){return this.event().x},Imba.Event.prototype.y=function(){return this.event().y},Imba.Event.prototype.which=function(){return this.event().which},Imba.EventManager=function(e,n){var r=this;n&&n.constructor===Object||(n={});var o=void 0!==n.events?n.events:[];r.setRoot(e),r.setListeners([]),r.setDelegators({}),r.setDelegator(function(t){return r.delegate(t),!0});for(var i=0,a=t(o),s=a.length;s>i;i++)r.register(a[i])},Imba.EventManager.prototype.__root={name:"root"},Imba.EventManager.prototype.root=function(t){return this._root},Imba.EventManager.prototype.setRoot=function(t){return this._root=t,this},Imba.EventManager.prototype.__enabled={"default":!1,watch:"enabledDidSet",name:"enabled"},Imba.EventManager.prototype.enabled=function(t){return this._enabled},Imba.EventManager.prototype.setEnabled=function(t){var e=this.enabled();return t!=e&&(t=this._enabled=t),t!=e&&this.enabledDidSet&&this.enabledDidSet(t,e,this.__enabled),this},Imba.EventManager.prototype._enabled=!1,Imba.EventManager.prototype.__listeners={name:"listeners"},Imba.EventManager.prototype.listeners=function(t){return this._listeners},Imba.EventManager.prototype.setListeners=function(t){return this._listeners=t,this},Imba.EventManager.prototype.__delegators={name:"delegators"},Imba.EventManager.prototype.delegators=function(t){return this._delegators},Imba.EventManager.prototype.setDelegators=function(t){return this._delegators=t,this},Imba.EventManager.prototype.__delegator={name:"delegator"},Imba.EventManager.prototype.delegator=function(t){return this._delegator},Imba.EventManager.prototype.setDelegator=function(t){return this._delegator=t,this},Imba.EventManager.prototype.enabledDidSet=function(t){return t?this.onenable():this.ondisable(),this},Imba.EventManager.prototype.register=function(e,n){if(void 0===n&&(n=!0),e instanceof Array){for(var r=0,o=t(e),i=o.length;i>r;r++)this.register(o[r],n);return this}if(this.delegators()[e])return this;var a=this.delegators()[e]=n instanceof Function?n:this.delegator();return this.enabled()?this.root().addEventListener(e,a,!0):void 0},Imba.EventManager.prototype.listen=function(t,e,n){return void 0===n&&(n=!0),this.listeners().push([t,e,n]),this.enabled()&&this.root().addEventListener(t,e,n),this},Imba.EventManager.prototype.delegate=function(t){var e=Imba.Event.wrap(t);return e.process(),this},Imba.EventManager.prototype.create=function(t,e,n){n&&n.constructor===Object||(n={});var r=void 0!==n.data?n.data:null,o=void 0!==n.source?n.source:null,i=Imba.Event.wrap({type:t,target:e});return r&&(i.setData(r),r),o&&(i.setSource(o),o),i},Imba.EventManager.prototype.trigger=function(t,e,n){n&&n.constructor===Object||(n={});var r=void 0!==n.data?n.data:null,o=void 0!==n.source?n.source:null,i=Imba.Event.wrap({type:t,target:e});return r&&(i.setData(r),r),o&&(i.setSource(o),o),i.process()},Imba.EventManager.prototype.emit=function(e,n,r,o){o&&o.constructor===Object||(o={});for(var i,a=(void 0!==o.dom?o.dom:!0,void 0!==o.ns?o.ns:"object"),s="on"+a,u=DOC.querySelectorAll("."+e.uid()),p=0,l=t(u),c=l.length;c>p;p++)i=l[p],i._tag&&i._tag[s]&&i._tag[s](n,r);return this},Imba.EventManager.prototype.onenable=function(){for(var e=this.delegators(),n=0,r=Object.keys(e),o=r.length;o>n;n++)this.root().addEventListener(r[n],e[r[n]],!0);for(var i,a=0,s=t(this.listeners()),u=s.length;u>a;a++)i=s[a],this.root().addEventListener(i[0],i[1],i[2]);return this},Imba.EventManager.prototype.ondisable=function(){for(var e=this.delegators(),n=0,r=Object.keys(e),o=r.length;o>n;n++)this.root().removeEventListener(r[n],e[r[n]],!0);for(var i,a=0,s=t(this.listeners()),u=s.length;u>a;a++)i=s[a],this.root().removeEventListener(i[0],i[1],i[2]);return this},ED=Imba.Events=new Imba.EventManager(document,{events:["keydown","keyup","keypress","textInput","input","change","submit","focusin","focusout","blur","contextmenu","mousedown","mouseup","mousewheel","dblclick"]}),n?(ED.listen("touchstart",function(t){return Imba.Touch.ontouchstart(t)}),ED.listen("touchmove",function(t){return Imba.Touch.ontouchmove(t)}),ED.listen("touchend",function(t){return Imba.Touch.ontouchend(t)}),ED.listen("touchcancel",function(t){return Imba.Touch.ontouchcancel(t)})):(ED.listen("click",function(t){return ED.trigger("tap",t.target)}),ED.listen("mousedown",function(t){return Imba.POINTER?Imba.POINTER.update(t).process():void 0}),ED.listen("mousemove",function(t){return Imba.POINTER?Imba.POINTER.update(t).process():void 0}),ED.listen("mouseup",function(t){return Imba.POINTER?Imba.POINTER.update(t).process():void 0})),Imba.Events.setEnabled(!0)}()},function(t,e){!function(){Imba.extendTag("htmlelement",function(t){t.prototype.__id={name:"id"},t.prototype.id=function(t){return this.getAttribute("id")},t.prototype.setId=function(t){return this.setAttribute("id",t),this},t.prototype.__tabindex={name:"tabindex"},t.prototype.tabindex=function(t){return this.getAttribute("tabindex")},t.prototype.setTabindex=function(t){return this.setAttribute("tabindex",t),this},t.prototype.__title={name:"title"},t.prototype.title=function(t){return this.getAttribute("title")},t.prototype.setTitle=function(t){return this.setAttribute("title",t),this},t.prototype.__role={name:"role"},t.prototype.role=function(t){return this.getAttribute("role")},t.prototype.setRole=function(t){return this.setAttribute("role",t),this}}),Imba.defineTag("fragment","htmlelement",function(t){t.createNode=function(){return Imba.document().createDocumentFragment()}}),Imba.defineTag("a",function(t){t.prototype.__href={dom:!0,name:"href"},t.prototype.href=function(t){return this.getAttribute("href")},t.prototype.setHref=function(t){return this.setAttribute("href",t),this}}),Imba.defineTag("abbr"),Imba.defineTag("address"),Imba.defineTag("area"),Imba.defineTag("article"),Imba.defineTag("aside"),Imba.defineTag("audio"),Imba.defineTag("b"),Imba.defineTag("base"),Imba.defineTag("bdi"),Imba.defineTag("bdo"),Imba.defineTag("big"),Imba.defineTag("blockquote"),Imba.defineTag("body"),Imba.defineTag("br"),Imba.defineTag("button",function(t){t.prototype.__autofocus={name:"autofocus"},t.prototype.autofocus=function(t){return this.getAttribute("autofocus")},t.prototype.setAutofocus=function(t){return this.setAttribute("autofocus",t),this},t.prototype.__type={dom:!0,name:"type"},t.prototype.type=function(t){return this.getAttribute("type")},t.prototype.setType=function(t){return this.setAttribute("type",t),this},t.prototype.__disabled={dom:!0,name:"disabled"},t.prototype.disabled=function(t){return this.getAttribute("disabled")},t.prototype.setDisabled=function(t){return this.setAttribute("disabled",t),this}}),Imba.defineTag("canvas"),Imba.defineTag("caption"),Imba.defineTag("cite"),Imba.defineTag("code"),Imba.defineTag("col"),Imba.defineTag("colgroup"),Imba.defineTag("data"),Imba.defineTag("datalist"),Imba.defineTag("dd"),Imba.defineTag("del"),Imba.defineTag("details"),Imba.defineTag("dfn"),Imba.defineTag("div"),Imba.defineTag("dl"),Imba.defineTag("dt"),Imba.defineTag("em"),Imba.defineTag("embed"),Imba.defineTag("fieldset"),Imba.defineTag("figcaption"),Imba.defineTag("figure"),Imba.defineTag("footer"),Imba.defineTag("form",function(t){t.prototype.__method={dom:!0,name:"method"},t.prototype.method=function(t){return this.getAttribute("method")},t.prototype.setMethod=function(t){return this.setAttribute("method",t),this},t.prototype.__action={dom:!0,name:"action"},t.prototype.action=function(t){return this.getAttribute("action")},t.prototype.setAction=function(t){return this.setAttribute("action",t),this}}),Imba.defineTag("h1"),Imba.defineTag("h2"),Imba.defineTag("h3"),Imba.defineTag("h4"),Imba.defineTag("h5"),Imba.defineTag("h6"),Imba.defineTag("head"),Imba.defineTag("header"),Imba.defineTag("hr"),Imba.defineTag("html"),Imba.defineTag("i"),Imba.defineTag("iframe",function(t){t.prototype.__src={name:"src"},t.prototype.src=function(t){return this.getAttribute("src")},t.prototype.setSrc=function(t){return this.setAttribute("src",t),this}}),Imba.defineTag("img",function(t){t.prototype.__src={name:"src"},t.prototype.src=function(t){return this.getAttribute("src")},t.prototype.setSrc=function(t){return this.setAttribute("src",t),this}}),Imba.defineTag("input",function(t){t.prototype.__name={dom:!0,name:"name"},t.prototype.name=function(t){return this.getAttribute("name")},t.prototype.setName=function(t){return this.setAttribute("name",t),this},t.prototype.__type={dom:!0,name:"type"},t.prototype.type=function(t){return this.getAttribute("type")},t.prototype.setType=function(t){return this.setAttribute("type",t),this},t.prototype.__value={dom:!0,name:"value"},t.prototype.value=function(t){return this.getAttribute("value")},t.prototype.setValue=function(t){return this.setAttribute("value",t),this},t.prototype.__required={dom:!0,name:"required"},t.prototype.required=function(t){return this.getAttribute("required")},t.prototype.setRequired=function(t){return this.setAttribute("required",t),this},t.prototype.__disabled={dom:!0,name:"disabled"},t.prototype.disabled=function(t){return this.getAttribute("disabled")},t.prototype.setDisabled=function(t){return this.setAttribute("disabled",t),this},t.prototype.__placeholder={dom:!0,name:"placeholder"},t.prototype.placeholder=function(t){return this.getAttribute("placeholder")},t.prototype.setPlaceholder=function(t){return this.setAttribute("placeholder",t),this},t.prototype.__autofocus={name:"autofocus"},t.prototype.autofocus=function(t){return this.getAttribute("autofocus")},t.prototype.setAutofocus=function(t){return this.setAttribute("autofocus",t),this},t.prototype.value=function(){return this.dom().value},t.prototype.setValue=function(t){return t!=this.dom().value&&(this.dom().value=t),this},t.prototype.checked=function(){return this.dom().checked},t.prototype.setChecked=function(t){return t!=this.dom().checked&&(this.dom().checked=t),this}}),Imba.defineTag("ins"),Imba.defineTag("kbd"),Imba.defineTag("keygen"),Imba.defineTag("label"),Imba.defineTag("legend"),Imba.defineTag("li"),Imba.defineTag("link",function(t){t.prototype.__rel={dom:!0,name:"rel"},t.prototype.rel=function(t){return this.getAttribute("rel")},t.prototype.setRel=function(t){return this.setAttribute("rel",t),this},t.prototype.__type={dom:!0,name:"type"},t.prototype.type=function(t){return this.getAttribute("type")},t.prototype.setType=function(t){return this.setAttribute("type",t),this},t.prototype.__href={dom:!0,name:"href"},t.prototype.href=function(t){return this.getAttribute("href")},t.prototype.setHref=function(t){return this.setAttribute("href",t),this},t.prototype.__media={dom:!0,name:"media"},t.prototype.media=function(t){return this.getAttribute("media")},t.prototype.setMedia=function(t){return this.setAttribute("media",t),this}}),Imba.defineTag("main"),Imba.defineTag("map"),Imba.defineTag("mark"),Imba.defineTag("menu"),Imba.defineTag("menuitem"),Imba.defineTag("meta",function(t){t.prototype.__name={dom:!0,name:"name"},t.prototype.name=function(t){return this.getAttribute("name")},t.prototype.setName=function(t){return this.setAttribute("name",t),this},t.prototype.__content={dom:!0,name:"content"},t.prototype.content=function(t){return this.getAttribute("content")},t.prototype.setContent=function(t){return this.setAttribute("content",t),this},t.prototype.__charset={dom:!0,name:"charset"},t.prototype.charset=function(t){return this.getAttribute("charset")},t.prototype.setCharset=function(t){return this.setAttribute("charset",t),this}}),Imba.defineTag("meter"),Imba.defineTag("nav"),Imba.defineTag("noscript"),Imba.defineTag("object"),Imba.defineTag("ol"),Imba.defineTag("optgroup"),Imba.defineTag("option",function(t){t.prototype.__value={dom:!0,name:"value"},t.prototype.value=function(t){return this.getAttribute("value")},t.prototype.setValue=function(t){return this.setAttribute("value",t),this}}),Imba.defineTag("output"),Imba.defineTag("p"),Imba.defineTag("param"),Imba.defineTag("pre"),Imba.defineTag("progress"),Imba.defineTag("q"),Imba.defineTag("rp"),Imba.defineTag("rt"),Imba.defineTag("ruby"),Imba.defineTag("s"),Imba.defineTag("samp"),Imba.defineTag("script",function(t){t.prototype.__src={dom:!0,name:"src"},t.prototype.src=function(t){return this.getAttribute("src")},t.prototype.setSrc=function(t){return this.setAttribute("src",t),this},t.prototype.__type={dom:!0,name:"type"},t.prototype.type=function(t){return this.getAttribute("type")},t.prototype.setType=function(t){return this.setAttribute("type",t),this}}),Imba.defineTag("section"),Imba.defineTag("select",function(t){t.prototype.__multiple={dom:!0,name:"multiple"},t.prototype.multiple=function(t){return this.getAttribute("multiple")},t.prototype.setMultiple=function(t){return this.setAttribute("multiple",t),this},t.prototype.value=function(){return this.dom().value},t.prototype.setValue=function(t){return t!=this.dom().value&&(this.dom().value=t),this}}),Imba.defineTag("small"),Imba.defineTag("source"),Imba.defineTag("span"),Imba.defineTag("strong"),Imba.defineTag("style"),Imba.defineTag("sub"),Imba.defineTag("summary"),Imba.defineTag("sup"),Imba.defineTag("table"),Imba.defineTag("tbody"),Imba.defineTag("td"),Imba.defineTag("textarea",function(t){t.prototype.__name={dom:!0,name:"name"},t.prototype.name=function(t){return this.getAttribute("name")},t.prototype.setName=function(t){return this.setAttribute("name",t),this},t.prototype.__disabled={dom:!0,name:"disabled"},t.prototype.disabled=function(t){return this.getAttribute("disabled")},t.prototype.setDisabled=function(t){return this.setAttribute("disabled",t),this},t.prototype.__required={dom:!0,name:"required"},t.prototype.required=function(t){return this.getAttribute("required")},t.prototype.setRequired=function(t){return this.setAttribute("required",t),this},t.prototype.__placeholder={dom:!0,name:"placeholder"},t.prototype.placeholder=function(t){return this.getAttribute("placeholder")},t.prototype.setPlaceholder=function(t){return this.setAttribute("placeholder",t),this},t.prototype.__value={dom:!0,name:"value"},t.prototype.value=function(t){return this.getAttribute("value")},t.prototype.setValue=function(t){return this.setAttribute("value",t),this},t.prototype.__rows={dom:!0,name:"rows"},t.prototype.rows=function(t){return this.getAttribute("rows")},t.prototype.setRows=function(t){return this.setAttribute("rows",t),this},t.prototype.__cols={dom:!0,name:"cols"},t.prototype.cols=function(t){return this.getAttribute("cols")},t.prototype.setCols=function(t){return this.setAttribute("cols",t),this},t.prototype.__autofocus={name:"autofocus"},t.prototype.autofocus=function(t){return this.getAttribute("autofocus")},t.prototype.setAutofocus=function(t){return this.setAttribute("autofocus",t),this},t.prototype.value=function(){return this.dom().value},t.prototype.setValue=function(t){return t!=this.dom().value&&(this.dom().value=t),this}}),Imba.defineTag("tfoot"),Imba.defineTag("th"),Imba.defineTag("thead"),Imba.defineTag("time"),Imba.defineTag("title"),Imba.defineTag("tr"),Imba.defineTag("track"),Imba.defineTag("u"),Imba.defineTag("ul"),Imba.defineTag("video"),Imba.defineTag("wbr")}()},function(t,e){(function(t){!function(){function e(t,e){return e&&e.indexOf?e.indexOf(t):[].indexOf.call(t,e)}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.initialize=t.prototype.constructor=t}function r(t){return t?t.toArray?t.toArray():t:[]}function o(t){this.setDom(t)}function i(){return o.apply(this,arguments)}function a(){return o.apply(this,arguments)}function s(t,e){for(var n=0,r=Object.keys(e),o=r.length;o>n;n++)t[r[n]]=e[r[n]];return t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.initialize=t.prototype.constructor=t,t}var u="undefined"!=typeof SVGElement;Imba.document=function(){return window.document},Imba["static"]=function(t,e){return t["static"]=e,t},t.ElementTag=o,o.prototype.__object={name:"object"},o.prototype.object=function(t){return this._object},o.prototype.setObject=function(t){return this._object=t,this},o.prototype.dom=function(){return this._dom},o.prototype.setDom=function(t){return t._tag=this,this._dom=t,this},o.prototype.setRef=function(t){return this.flag(this._ref=t),this},o.prototype.setHandler=function(t,e,n){var r="on"+t;if(e instanceof Function)this[r]=e;else if(e instanceof Array){var o=e.shift();this[r]=function(t){return n[o].apply(n,e.concat(t))}}else this[r]=function(t){return n[e](t)};return this},o.prototype.setId=function(t){return this.dom().id=t,this},o.prototype.id=function(){return this.dom().id},o.prototype.setAttribute=function(t,e){var n=this.dom().getAttribute(t);return n==e?e:null!=e&&e!==!1?this.dom().setAttribute(t,e):this.dom().removeAttribute(t)},o.prototype.removeAttribute=function(t){return this.dom().removeAttribute(t)},o.prototype.getAttribute=function(t){return this.dom().getAttribute(t)},o.prototype.setContent=function(t){return this.setChildren(t),this},o.prototype.setChildren=function(t){return this._empty?this.append(t):this.empty().append(t),this._children=null,this},o.prototype.text=function(t){return arguments.length?(this.setText(t),this):this._dom.textContent},o.prototype.setText=function(t){return this._empty=!1,this._dom.textContent=null==t?t="":t,this},o.prototype.empty=function(){for(;this._dom.firstChild;)this._dom.removeChild(this._dom.firstChild);return this._children=null,this._empty=!0,this},o.prototype.remove=function(t){var e=this.dom(),n=t&&t.dom();return n&&n.parentNode==e&&e.removeChild(n),this},o.prototype.parent=function(){return tag$wrap(this.dom().parentNode)},o.prototype.log=function(){for(var t=arguments,e=t.length,n=new Array(e>0?e:0);e>0;)n[e-1]=t[--e];return n.unshift(console),Function.prototype.call.apply(console.log,n),this},o.prototype.emit=function(t,e){e&&e.constructor===Object||(e={});var n=void 0!==e.data?e.data:null,r=void 0!==e.bubble?e.bubble:!0;return Imba.Events.trigger(t,this,{data:n,bubble:r}),this},o.prototype.css=function(t,e){if(t instanceof Object)for(var n=0,r=Object.keys(t),o=r.length;o>n;n++)this.css(r[n],t[r[n]]);else if(null==e)this.dom().style.removeProperty(t);else{if(void 0==e)return this.dom().style[t];("number"==typeof e||e instanceof Number)&&t.match(/width|height|left|right|top|bottom/)&&(e+="px"),this.dom().style[t]=e}return this},o.prototype.dataset=function(t,e){if(t instanceof Object){for(var n=0,o=Object.keys(t),i=o.length;i>n;n++)this.dataset(o[n],t[o[n]]);return this}if(2==arguments.length)return this.setAttribute("data-"+t,e),this;if(t)return this.getAttribute("data-"+t);var a=this.dom().dataset;if(!a){a={};for(var s,u=0,p=r(this.dom().attributes),l=p.length;l>u;u++)s=p[u],"data-"==s.name.substr(0,5)&&(a[Imba.toCamelCase(s.name.slice(5))]=s.value)}return a},o.prototype.find=function(t){return new Imba.Selector(t,this)},o.prototype.first=function(t){return t?this.find(t).first():tag$wrap(this.dom().firstElementChild)},o.prototype.last=function(t){return t?this.find(t).last():tag$wrap(this.dom().lastElementChild)},o.prototype.child=function(t){return tag$wrap(this.dom().children[t||0])},o.prototype.children=function(t){var e=new Imba.Selector(null,this,this._dom.children);return t?e.filter(t):e},o.prototype.orphanize=function(){var t;return(t=this.dom().parentNode)&&t.removeChild(this._dom),this},o.prototype.matches=function(t){var e;return t instanceof Function?t(this):(t.query&&(t=t.query()),(e=this._dom.webkitMatchesSelector||this._dom.matches)?e.call(this._dom,t):void 0)},o.prototype.closest=function(t){if(!t)return this.parent();var e=this;for(t.query&&(t=t.query());e;){if(e.matches(t))return e;e=e.parent()}return null},o.prototype.path=function(t){var e=this,n=[];for(t&&t.query&&(t=t.query());e;)(!t||e.matches(t))&&n.push(e),e=e.parent();return n},o.prototype.parents=function(t){var e=this.parent();return e?e.path(t):[];
},o.prototype.up=function(t){return t?this.parent()&&this.parent().closest(t):this.parent()},o.prototype.siblings=function(t){var e,n=this;if(!(e=this.parent()))return[];var r=this.dom().parentNode.children,o=new Imba.Selector(null,this,r);return o.filter(function(e){return e!=n&&(!t||e.matches(t))})},o.prototype.next=function(t){if(t){for(var e=this;e=e.next();)if(e.matches(t))return e;return null}return tag$wrap(this.dom().nextElementSibling)},o.prototype.prev=function(t){if(t){for(var e=this;e=e.prev();)if(e.matches(t))return e;return null}return tag$wrap(this.dom().previousElementSibling)},o.prototype.contains=function(t){return this.dom().contains(t&&t._dom||t)},o.prototype.index=function(){for(var t=0,e=this.dom();e.previousSibling;)e=e.previousSibling,t++;return t},o.prototype.insert=function(t,e){e&&e.constructor===Object||(e={});var n=void 0!==e.before?e.before:null,r=void 0!==e.after?e.after:null;return r&&(n=r.next()),t instanceof Array&&(t=t$("fragment").setContent(t).end()),n?this.dom().insertBefore(t.dom(),n.dom()):this.append(t),this},o.prototype.bind=function(t){return this.setObject(t),this},o.prototype.render=function(){return this},o.prototype.build=function(){return this.render(),this},o.prototype.commit=function(){return this},o.prototype.end=function(){return this._built?this.commit():(this._built=!0,this.build()),this},o.prototype.synced=function(){return this},o.prototype.awaken=function(){return this},o.prototype.focus=function(){return this.dom().focus(),this},o.prototype.blur=function(){return this.dom().blur(),this},o.prototype.template=function(){return null},o.prototype.prepend=function(t){var e=this._dom.childNodes[0];return e?this.insertBefore(t,e):this.appendChild(t),this},o.prototype.append=function(t){if(!t)return this;if(t instanceof Array)for(var e,n=0,o=r(t),i=o.length;i>n;n++)e=o[n],e&&this.append(e);else if("string"==typeof t||t instanceof String||"number"==typeof t||t instanceof Number){var a=Imba.document().createTextNode(t);this._dom.appendChild(a),this._empty&&(this._empty=!1)}else this._dom.appendChild(t._dom||t),this._empty&&(this._empty=!1);return this},o.prototype.insertBefore=function(t,e){return("string"==typeof t||t instanceof String)&&(t=Imba.document().createTextNode(t)),t&&e&&this.dom().insertBefore(t._dom||t,e._dom||e),this},o.prototype.appendChild=function(t){return("string"==typeof t||t instanceof String)&&(t=Imba.document().createTextNode(t)),t&&this.dom().appendChild(t._dom||t),this},o.prototype.removeChild=function(t){return t&&this.dom().removeChild(t._dom||t),this},o.prototype.toString=function(){return this._dom.toString()},o.prototype.classes=function(){return this._dom.classList},o.prototype.flags=function(){return this._dom.classList},o.prototype.flag=function(t,e){return 2!=arguments.length||e?this._dom.classList.add(t):this._dom.classList.remove(t),this},o.prototype.unflag=function(t){return this._dom.classList.remove(t),this},o.prototype.toggleFlag=function(t){return this._dom.classList.toggle(t),this},o.prototype.hasFlag=function(t){return this._dom.classList.contains(t)},o.dom=function(){if(this._dom)return this._dom;var t,e=this.__super__.constructor,n=this.prototype;if(this._isNative)this._dom=t=Imba.document().createElement(this._nodeType);else if(this._nodeType!=e._nodeType){this._dom=t=Imba.document().createElement(this._nodeType);for(var o,i=0,a=r(e.dom()),s=a.length;s>i;i++)o=a[i],t.setAttribute(o.name,o.value)}else this._dom=t=e.dom().cloneNode(!1);if(this._domFlags)for(var i=0,a=r(this._domFlags),s=a.length;s>i;i++)n.flag.call(this,a[i]);return this._dom},o.createNode=function(t,e){var n=this._dom||this.dom(),r=n.cloneNode(!1);return r},o.flag=function(t){return this.dom().classList.add(t),this},o.unflag=function(t){return this.dom().classList.remove(t),this},o.createNode=function(t,e){var n=this._dom||this.dom(),r=n.cloneNode(!1);return r},o.prototype.initialize=o,n(i,o),n(a,o),HTML_TAGS="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr".split(" "),HTML_TAGS_UNSAFE="article aside header section".split(" "),SVG_TAGS="circle defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),Imba.TAGS={element:o,htmlelement:i,svgelement:a},Imba.SINGLETONS={},IMBA_TAGS=Imba.TAGS,Imba.defineTag=function(t,n,r){void 0==r&&"function"==typeof n&&(r=n,n=""),void 0==n&&(n="");var o=t.split("$"),t=o[0],i=o[1];n||(n=e(t,HTML_TAGS)>=0?"htmlelement":"div");var a=Imba.TAGS[n],u="var"==t?"vartag":t,p=new Function("return function "+u.replace(/[\s\-\:]/g,"_")+"(dom){ this.setDom(dom); }")(),l=p;if(s(l,a),l._nodeType=a._nodeType||t,l._name=t,l._ns=i,l._nodeType!=t){l._nodeFlag="_"+t.replace(/_/g,"-");var c=a._nodeClass;c=c?c.split(/\s+/g):[];var f=null;i&&-1==e(f,c)&&c.push(f=""+i+"_"),e(f,c)>=0||c.push(f=l._nodeFlag),l._nodeClass=c.join(" "),l._domFlags=c,l._isNative=!1}else l._isNative=!0;return l._dom=null,l.prototype._nodeType=l._nodeType,l.prototype._dom=null,l.prototype._built=!1,l.prototype._empty=!0,i||(Imba.TAGS[t]=l),Imba.TAGS[""+t+"$"+(i||"html")]=l,r&&r.call(l,l,l.prototype),l},Imba.defineSingletonTag=function(t,e,n){void 0==n&&"function"==typeof e&&(n=e,e=""),void 0==e&&(e="");var r=Imba.TAGS[e||"div"],o=new Function("return function "+t.replace(/[\s\-\:]/g,"_")+"(dom){ this.setDom(dom); }"),i=o(),a=s(i,r);return a._id=t,a._ns=r._ns,a._nodeType=r._nodeType,a._nodeClass=r._nodeClass,a._domFlags=r._domFlags,a._isNative=!1,a._dom=null,a._instance=null,a.prototype._dom=null,a.prototype._built=!1,a.prototype._empty=!0,Imba.SINGLETONS[t]=a,n&&n.call(a,a,a.prototype),a},Imba.extendTag=function(t,e){var n="string"==typeof t||t instanceof String?Imba.TAGS[t]:t;return e&&e&&e.call(n,n,n.prototype),n},Imba.tag=function(t){var e=Imba.TAGS[t];return new e(e.createNode())},Imba.tagWithId=function(t,e){var n=Imba.TAGS[t],r=n.createNode();return r.id=e,new n(r)},Imba.getTagSingleton=function(t){var e,n,r;return(e=Imba.SINGLETONS[t])?e&&e.Instance?e.Instance:(r=Imba.document().getElementById(t))?(n=e.Instance=new e(r),n.awaken(r),n):(r=e.createNode(),r.id=t,n=e.Instance=new e(r),n.end().awaken(r),n):(r=Imba.document().getElementById(t))?Imba.getTagForDom(r):void 0},Imba.getTagForDom=function(t){var e;if(!t)return null;if(t._dom)return t;if(t._tag)return t._tag;if(!t.nodeName)return null;var n=null,r=t.id,o=t.nodeName.toLowerCase(),i=t.className;if(r&&Imba.SINGLETONS[r])return Imba.getTagSingleton(r);u&&t instanceof SVGElement&&(n="svg",i=t.className.baseVal),i&&((e=i.match(/\b_([a-z\-]+)\b(?!\s*_[a-z\-]+)/))&&(o=e[1].replace(/-/g,"_")),(e=i.match(/\b([a-z]+)_\b/))&&(n=e[1]));var a=Imba.TAGS[o];return a?new a(t).awaken(t):null},t$=Imba.tag,tc$=Imba.tagWithFlags,ti$=Imba.tagWithId,tic$=Imba.tagWithIdAndFlags,id$=Imba.getTagSingleton,tag$wrap=Imba.getTagForDom}()}).call(e,function(){return this}())},function(t,e){!function(){document.documentElement.classList||(ElementTag.prototype.hasFlag=function(t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(this._dom.className)},ElementTag.prototype.addFlag=function(t){return this.hasFlag(t)?this:(this._dom.className+=(this._dom.className?" ":"")+t,this)},ElementTag.prototype.unflag=function(t){if(!this.hasFlag(t))return this;var e=new RegExp("(^|\\s)*"+t+"(\\s|$)*","g");return this._dom.className=this._dom.className.replace(e,""),this},ElementTag.prototype.toggleFlag=function(t){return this.hasFlag(t)?this.unflag(t):this.flag(t)},ElementTag.prototype.flag=function(t,e){return 2==arguments.length&&0==e?this.unflag(t):this.addFlag(t)})}()},function(t,e){!function(){function t(t){return t?t.toArray?t.toArray():t:[]}function e(n,r,o){if(r instanceof Array)for(var i=0,a=t(r),s=a.length;s>i;i++)e(n,a[i],o);else"number"==typeof r||r instanceof Number||r&&n.removeChild(r);return o}function n(e,r){if(r instanceof Array)for(var o=0,i=t(r),a=i.length;a>o;o++)n(e,i[o]);else"number"==typeof r||r instanceof Number||("string"==typeof r||r instanceof String?e.appendChild(Imba.document().createTextNode(r)):r&&e.appendChild(r))}function r(e,n,o){if(("string"==typeof n||n instanceof String)&&(n=Imba.document().createTextNode(n)),n instanceof Array)for(var i=0,a=t(n),s=a.length;s>i;i++)r(e,a[i],o);else"number"==typeof n||n instanceof Number||n&&e.insertBefore(n,o);return o}function o(t,e,o){var i=o?o.nextSibling:t._dom.firstChild;return i?(r(t,e,i),i.previousSibling):(n(t,e),t._dom.lastChild)}function i(e,n,r,i){for(var a,s=n.length,u=(r.length,n[s-1]),p=[],l=[],c=[],f=0,m=0,d=0,h=t(r),b=h.length;b>d;d++){a=h[d];var y=n.indexOf(a);if(p.push(y),-1!=y){for(var g=p.length-2;g>=0;)if(-1==p[g])g--;else{if(y>p[g])break;g=l[g]}l.push(g);var _=-1==g?0:c[g]+1;_>f&&(f=_,m=d),c.push(_)}else e.removeChild(a),l.push(-1),c.push(-1)}for(var v=[],x=p.length-1;x>=0;)-1==p[x]||x==m&&(v[p[x]]=!0,m=l[m]),x-=1;for(var I=0,h=t(n),b=h.length;b>I;I++)if(!v[I]){var w=n[I-1];o(e,h[I],w&&w._dom||i)}return u&&u._dom||i}function a(t,e,n,r){var o=e.length,a=o,s=e[o-1];if(o==n.length&&e[0]===n[0])for(;a--&&e[a]===n[a];);return-1==a?s&&s._dom||r:i(t,e,n,r)}function s(n,r,i,u,p,l){if(r===i)return r&&r._dom||r||u;if(r instanceof Array&&i instanceof Array){if(!r["static"])return a(n,r,i,u);if(r["static"]==i["static"]){for(var c=0,f=t(r),m=f.length;m>c;c++)u=s(n,f[c],i[c],u,r,c);return u}}else if("string"==typeof r||r instanceof String){var d;return i instanceof Text?(i.textContent!=r&&(i.textContent=r),d=i):(i&&e(n,i,u),d=Imba.document().createTextNode(r),o(n,d,u)),p[l]=u=d}return i&&e(n,i,u),r&&(u=o(n,r,u)),u}Imba.extendTag("htmlelement",function(e){e.prototype.setChildren=function(t){return t===this._children?this:(t&&t["static"]?this.setStaticChildren(t):t instanceof Array&&this._children instanceof Array?a(this,t,this._children,null):"string"==typeof t||t instanceof String?this.setText(t):this.empty().append(t),this._children=t,this)},e.prototype.setStaticChildren=function(e){var n,r,o=this._children||[],i=null;if(1==e.length&&("string"==typeof e[n=0]||e[n]instanceof String))return this.setText(e[r=0]),e[r];o.length&&o["static"]||(o=[],this.empty());for(var a,u=0,p=t(e),l=p.length;l>u;u++)a=p[u],a===o[u]?a&&a._dom&&(i=a._dom):i=s(this,a,o[u],i,e,u);return this._children=e,this},e.prototype.content=function(){return this._content||this.children().toArray()},e.prototype.setText=function(t){return t!=this._children&&(this.dom().textContent=this._children=t),this}})}()},function(t,e){(function(t){!function(){"undefined"!=typeof window&&(t=window),Imba={};var e=/-./g;Imba.toCamelCase=function(t){return t.replace(e,function(t){return t.charAt(1).toUpperCase()})}}()}).call(e,function(){return this}())},function(t,e){!function(){function t(t){return t?t.toArray?t.toArray():t:[]}Imba.Selector=function(e,n,r){if(this._query=e instanceof Imba.Selector?e.query():e,this._context=n,r){for(var o=0,i=t(r),a=i.length,s=[];a>o;o++)s.push(tag$wrap(i[o]));this._nodes=s}return this._lazy=!r,this},Imba.Selector.prototype.__query={name:"query"},Imba.Selector.prototype.query=function(t){return this._query},Imba.Selector.prototype.setQuery=function(t){return this._query=t,this},Imba.Selector.prototype.reload=function(){return this._nodes=null,this},Imba.Selector.prototype.scope=function(){var t;return this._scope?this._scope:(t=this._context)?this._scope=t.toScope?t.toScope():t:Imba.document()},Imba.Selector.prototype.first=function(){return this._lazy?tag$wrap(this._first||(this._first=this.scope().querySelector(this.query()))):this.nodes()[0]},Imba.Selector.prototype.last=function(){return this.nodes()[this._nodes.length-1]},Imba.Selector.prototype.nodes=function(){if(this._nodes)return this._nodes;for(var e=this.scope().querySelectorAll(this.query()),n=0,r=t(e),o=r.length,i=[];o>n;n++)i.push(tag$wrap(r[n]));return this._nodes=i,this._lazy=!1,this._nodes},Imba.Selector.prototype.count=function(){return this.nodes().length},Imba.Selector.prototype.len=function(){return this.nodes().length},Imba.Selector.prototype.any=function(){return this.count()},Imba.Selector.prototype.at=function(t){return this.nodes()[t]},Imba.Selector.prototype.forEach=function(t){return this.nodes().forEach(t),this},Imba.Selector.prototype.map=function(t){return this.nodes().map(t)},Imba.Selector.prototype.toArray=function(){return this.nodes()},Imba.Selector.prototype.closest=function(t){return this._nodes=this.map(function(e){return e.closest(t)}),this},Imba.Selector.prototype.siblings=function(t){return this._nodes=this.map(function(e){return e.siblings(t)}),this},Imba.Selector.prototype.find=function(t){return this._nodes=this.__query__(t.query(),this.nodes()),this},Imba.Selector.prototype.children=function(t){return!0},Imba.Selector.prototype.has=function(){return!0},Imba.Selector.prototype.__union=function(){return this.p("called Imba.Selector.__union"),this},Imba.Selector.prototype.__intersect=function(){return this.p("called Imba.Selector.__union"),this},Imba.Selector.prototype.reject=function(t){return this.filter(t,!1)},Imba.Selector.prototype.filter=function(t,e){void 0===e&&(e=!0);var n=t instanceof Function&&t||function(e){return e.matches(t)},r=this.nodes().filter(function(t){return n(t)==e});return new Imba.Selector("",this._scope,r)},Imba.Selector.prototype.__query__=function(t,e){for(var n=[],r=0,o=e.length;o>r;)n.push.apply(n,e[r++].querySelectorAll(t));return n},Imba.Selector.prototype.__matches__=function(){return!0},Imba.Selector.prototype.flag=function(t){return this.forEach(function(e){return e.flag(t)})},Imba.Selector.prototype.unflag=function(t){return this.forEach(function(e){return e.unflag(t)})},Imba.Selector.prototype.call=function(t,e){var n=this;return void 0===e&&(e=[]),n.forEach(function(r){var o;return n.setFn(r[o=t]),r[o]?n.fn().apply(r,e):void 0})},q$=function(t,e){return new Imba.Selector(t,e)},q$$=function(t,e){var n=(e||Imba.document()).querySelector(t);return n&&tag$wrap(n)||null},Imba.extendTag("element",function(t){t.prototype.querySelectorAll=function(t){return this._dom.querySelectorAll(t)},t.prototype.querySelector=function(t){return this._dom.querySelector(t)},t.prototype.find=function(t){return new Imba.Selector(t,this)}})}()},function(t,e,n){var r=n(3);"string"==typeof r&&(r=[[t.id,r,""]]),n(2)(r,{}),r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.id,r,""]]),n(2)(r,{}),r.locals&&(t.exports=r.locals)}]);